<!DOCTYPE html>
    <head>
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Breakmaker: Unofficial Character Sheet Generator</title>
        <link rel="icon" type="img/svg" href="img/Breakmaker - Rounded.svg">
        <meta name="description" content="A character sheet generator for the Break!! TTRPG system.">
        <meta property="og:title" content="Breakmaker">
        <meta property="og:description" content="A character sheet generator for the Break!! TTRPG system.">
    </head>
    <body id="app">
        <div id="allContent" :class="{noscroll: showSidebar}">
            <nav id="navbar" class="container-fluid">
                <ul>
                    <li id="hamburger" @click="showSidebar = true"><i class="fa-solid fa-bars fa-xl"></i></li>
                    <li>
                        <strong>BreakMaker</strong>
                    </li>
                </ul>
                <!--<ul class="hideResponsive">
                    <li><button class="secondary nav-button" @click="dialogOpen = true">Roadmap</button></li>
                    <li><button class="secondary nav-button" @click="backupOpen = true">Backup/Restore</button></li>
                    <li data-placement="left" :data-tooltip="!(callingSelected && speciesSelected && homelandSelected && historySelected && quirkSelected) ? 'Finish the form first' : null"><button class="nav-button" id="print" @click="printDiv('sheetTemplate')" :disabled="!(callingSelected && speciesSelected && homelandSelected && historySelected && quirkSelected)">Print</button></li>
                </ul>-->
                <ul>
                    <div class="hideResponsive">
                        <li data-placement="bottom" data-tooltip="Backup / Restore"><button class="secondary nav-button" @click="backupOpen = true"><i class="fa-solid fa-download"></i></button></li>
                        <li data-placement="bottom" :data-tooltip="!(callingSelected && speciesSelected && homelandSelected && historySelected && quirkSelected) ? 'Finish the form first' : 'Print'"><button class="nav-button" id="print" @click="printDiv('sheetTemplate')" :disabled="!(callingSelected && speciesSelected && homelandSelected && historySelected && quirkSelected)"><i class="fa-solid fa-file-pdf"></i></button></li>
                    </div>
                    <li data-placement="bottom" data-tooltip="Clear"><button class="nav-button button-warning" @click="clearSave"><i class="fa-solid fa-trash-can"></i></button></li>
                    <li data-placement="bottom" data-tooltip="Save"><button class="nav-button" @click="save"><i class="fa-solid fa-floppy-disk"></i></button></li>
                </ul>
            </nav>
            <div :class="{fog: showSidebar}" @click="showSidebar = false"></div>
            <div id="sidebarMainContainer">
                <div id="sidebar" :class="{sidebarShow: showSidebar}">
                    <div id="sidebarFlex">
                        <div class="grid">
                            <button v-if="edit">Edit</button>
                            <div v-if="edit" data-placement="bottom" :data-tooltip="!(callingSelected && speciesSelected && homelandSelected && historySelected && quirkSelected) ? 'Finish the form first' : null"><button v-if="edit" class="outline" @click="edit = false" :disabled="!(callingSelected && speciesSelected && homelandSelected && historySelected && quirkSelected)">View</button></div>
                            <button v-if="!edit" class="outline" @click="edit = true">Edit</button>
                            <button v-if="!edit">View</button>
                        </div>
                        <hr>
                        <div id="editNav" v-if="edit">
                            <p><a class="secondary" href="#bioForm">Basic Info</a></p>
                            <div v-if="callingSelected && speciesSelected">
                                <p><a class="secondary" href="#loadout">Weapons & Armor</a></p>
                                <p><a class="secondary" href="#inventoryForm">Inventory</a></p>
                                <p><a class="secondary" href="#traitsForm">Stat Traits</a></p>
                                <p><a class="secondary" href="#electivesForm" v-if="getLevel >= 2">Elective Abilities</a></p>
                                <p><a class="secondary" href="#giftsForm" v-if="(Number(getBrightPoints) + Number(brightPoints)) >=3 || (Number(getDarkPoints) + Number(darkPoints)) >= 3 || speciesSelected.name == 'Tenebrate'">Gifts</a></p>
                                <p><a class="secondary" href="#companionForm">Companion</a></p>
                            </div>
                        </div>
                        <div id="viewNav" v-if="!edit">
                            <p><a class="secondary" href="#bio">Basic Info</a></p>
                            <p><a class="secondary" href="#Weapon" v-if="weaponSelected">Weapon</a></p>
                            <p><a class="secondary" href="#Armor" v-if="armorSelected">Armor</a></p>
                            <p><a class="secondary" href="#Shield" v-if="shieldSelected">Shield</a></p>
                            <p><a class="secondary" href="#history">History</a></p>
                            <p><a class="secondary" href="#Quirk">Quirk</a></p>
                            <p><a class="secondary" href="#attack">Attack</a></p>
                            <p><a class="secondary" href="#hearts">Hearts</a></p>
                            <p><a class="secondary" href="#defense">Defense</a></p>
                            <p><a class="secondary" href="#speed">Speed</a></p>
                            <p><a class="secondary" href="#might">Might</a></p>
                            <p><a class="secondary" href="#deftness">Deftness</a></p>
                            <p><a class="secondary" href="#grit">Grit</a></p>
                            <p><a class="secondary" href="#insight">Insight</a></p>
                            <p><a class="secondary" href="#aura">Aura</a></p>
                            <p><a class="secondary" href="#allegiance">Allegiance</a></p>
                            <p><a class="secondary" href="#callingFeatures">Calling Features</a></p>
                            <p><a class="secondary" href="#speciesFeatures">Species Features</a></p>
                            <p><a class="secondary" href="#inventory">Inventory</a></p>
                            <p><a class="secondary" href="#companion">Companion</a></p>
                        </div>
                        <hr>
                        <div id="smallNavButtons" v-if="showSidebar">
                            <button class="secondary nav-button" @click="backupOpen = true">Backup/Restore</button>
                            <div data-placement="top" :data-tooltip="!(callingSelected && speciesSelected && homelandSelected && historySelected && quirkSelected) ? 'Finish the form first' : null"><button class="nav-button" id="print" @click="printDiv('sheetTemplate')" :disabled="!(callingSelected && speciesSelected && homelandSelected && historySelected && quirkSelected)">Download</button></div>
                        </div>
                    </div>
                </div>
                <main class="container">
                    <div id="edit" v-show="edit">
                        <article id="bioForm">
                            <header>
                                <nav>
                                    <ul>
                                        <li>
                                            <i class="fa-solid fa-address-card fa-xl"></i>
                                        </li>
                                        <li>
                                            <hgroup>
                                                <h4>Basic Info</h4>
                                                <h5>Tell us about yourself</h5>
                                            </hgroup>
                                        </li>
                                    </ul>
                                </nav>
                            </header>
                            <form>
                                <div class="grid">
                                    <label>
                                        Name
                                        <input type="text" placeholder="Name" v-model="characterName">
                                    </label>
                                    <label>
                                        Portrait URL (Optional)
                                        <input type="text" placeholder="https://www.somewebsite.com/image.jpg" v-model="portraitURL">
                                    </label>
                                </div>
                                <div class="grid">
                                    <label>
                                        Calling
                                        <select v-model="callingSelected">
                                            <option value="">None</option>
                                            <option v-for="calling in callings" :value="calling">{{calling.name}}</option>
                                            <optgroup label="Variant Callings (Ask your GM first)">
                                                <option v-for="calling in variantCallings" :value="calling">{{calling.name}}</option>
                                            </optgroup>
                                        </select>
                                    </label>
                                    <label>
                                        Experience
                                        <input type="text" v-model="xp">
                                    </label>
                                </div>
                                <div class="grid">
                                    <label>
                                        Species
                                        <select v-model="speciesSelected">
                                            <option v-for="specie in species" :value="specie">{{specie.name}}</option>
                                        </select>
                                    </label>
                                    <label>
                                        Homeland
                                        <select v-model="homelandSelected">
                                            <option v-for="homeland in homelands" :value="homeland">{{homeland.name}}</option>
                                        </select>
                                    </label>
                                </div>
                                <div class="grid">
                                    <label>
                                        History
                                        <select v-model="historySelected">
                                            <optgroup label="Blazing Garden">
                                                <option v-for="history in histories.blazingGarden" :value="history">{{history.name}}</option>
                                            </optgroup>
                                            <optgroup label="Buried Kingdom">
                                                <option v-for="history in histories.buriedKingdom" :value="history">{{history.name}}</option>
                                            </optgroup>
                                            <optgroup label="Twilight Meridian">
                                                <option v-for="history in histories.twilightMeridian" :value="history">{{history.name}}</option>
                                            </optgroup>
                                            <optgroup label="Wistful Dark">
                                                <option v-for="history in histories.wistfulDark" :value="history">{{history.name}}</option>
                                            </optgroup>
                                            <optgroup label="Other World">
                                                <option v-for="history in histories.otherWorld" :value="history">{{history.name}}</option>
                                            </optgroup>
                                        </select>
                                    </label>
                                    <label>
                                        Quirk
                                        <select v-model="quirkSelected">
                                            <optgroup label="Spirit">
                                                <option v-for="quirk in quirks.spirit" :value="quirk">{{quirk.name}}</option>
                                            </optgroup>
                                            <optgroup label="Physiological">
                                                <option v-for="quirk in quirks.physical" :value="quirk">{{quirk.name}}</option>
                                            </optgroup>
                                            <optgroup label="Fate">
                                                <option v-for="quirk in quirks.fate" :value="quirk">{{quirk.name}}</option>
                                            </optgroup>
                                            <optgroup label="Eldritch">
                                                <option v-for="quirk in quirks.eldritch" :value="quirk">{{quirk.name}}</option>
                                            </optgroup>
                                            <optgroup label="Robotic">
                                                <option v-for="quirk in quirks.robotic" :value="quirk">{{quirk.name}}</option>
                                            </optgroup>
                                        </select>
                                    </label>
                                </div>
                                <div v-if="quirkSelected">
                                    <div v-if="quirkSelected.name == 'Weary (Walker of Two Paths)'">
                                        <hr>
                                        <label>
                                            Extra History (Weary Quirk)
                                            <select v-model="wearyHistory">
                                                <option value="">None</option>
                                                <optgroup label="Blazing Garden">
                                                    <option v-for="history in histories.blazingGarden" :value="history.name">{{history.name}}</option>
                                                </optgroup>
                                                <optgroup label="Buried Kingdom">
                                                    <option v-for="history in histories.buriedKingdom" :value="history.name">{{history.name}}</option>
                                                </optgroup>
                                                <optgroup label="Twilight Meridian">
                                                    <option v-for="history in histories.twilightMeridian" :value="history.name">{{history.name}}</option>
                                                </optgroup>
                                                <optgroup label="Wistful Dark">
                                                    <option v-for="history in histories.wistfulDark" :value="history.name">{{history.name}}</option>
                                                </optgroup>
                                                <optgroup label="Other World">
                                                    <option v-for="history in histories.otherWorld" :value="history.name">{{history.name}}</option>
                                                </optgroup>
                                            </select>
                                        </label>
                                        <hr>
                                    </div>
                                </div>
                                <label>
                                    Languages
                                    <div v-if="quirkSelected">
                                        <blockquote v-if="quirkSelected.name != 'Nearsighted'">Choose "Low Speech" and 1 other language of your choice.</blockquote>
                                        <blockquote v-if="quirkSelected.name == 'Nearsighted'">Choose "Low Speech" and 3 other languages of your choice, due to your Nearsighted Quirk.</blockquote>
                                    </div>
                                    <details role="list">
                                        <summary aria-haspopup="listbox">Languages</summary>
                                        <ul role="listbox">
                                            <li v-for="language in languages">
                                                <label>
                                                    <input type="checkbox" v-model="language.known">
                                                    {{language.name}}
                                                </label>
                                            </li>
                                        </ul>
                                    </details>
                                </label>
                                <div class="grid">
                                    <label>
                                        Extra Bright Allegiance Points
                                        <input type="text" v-model="brightPoints">
                                    </label>
                                    <label>
                                        Extra Dark Allegiance Points
                                        <input type="text" v-model="darkPoints">
                                    </label>
                                </div>
                                <div v-if="speciesSelected">
                                    <div v-if="speciesSelected.name =='Elf'">
                                        <hr>
                                        <label>
                                            Elf Immortal Ego Immunity
                                            <select v-model="elfImmunity">
                                                <option>Ballooned</option>
                                                <option>Blinded/Deafened</option>
                                                <option>Chibbed</option>
                                                <option>Disoriented</option>
                                                <option>Dispirited</option>
                                                <option>Fatigued</option>
                                                <option>Jellyfied</option>
                                                <option>Petrified</option>
                                                <option>Putrefied</option>
                                                <option>Restrained</option>
                                                <option>Starved</option>
                                                <option>Suffocated</option>
                                                <option>Terrified</option>
                                                <option>Toppled</option>
                                            </select>
                                        </label>
                                    </div>
                                </div>
                            </form>
                        </article>

                        <div v-if="callingSelected && speciesSelected && quirkSelected && historySelected">
                            <article id="heartWrathBladeForm" v-if="callingSelected.name == 'Battle Princess' || callingSelected.name == 'Murder Princess'">
                                <header>
                                    <nav>
                                        <ul>
                                            <li>
                                                <hgroup>
                                                    <h4 v-if="callingSelected.name == 'Battle Princess'">Heart's Blade</h4>
                                                    <h4 v-if="callingSelected.name == 'Murder Princess'">Wrath's Blade</h4>
                                                    <h5>Your manifested weapon.</h5>
                                                </hgroup>
                                            </li>
                                        </ul>
                                    </nav>
                                </header>
                                <form v-if="callingSelected.name == 'Battle Princess'">
                                    <label>
                                        <span>Weapon Type</span>
                                        <select v-model="heartsBlade.chosenType">
                                            <option value="">None</option>
                                            <template v-for="weapon in weapons">
                                                <option :value="weapon" v-if="heartsBlade.types.includes(weapon.name)">{{weapon.name}}</option>
                                            </template>
                                        </select>
                                    </label>
                                    <label>
                                        <span>Weapon Material</span>
                                        <select v-model="heartsBlade.chosenMaterial">
                                            <option value="">None</option>
                                            <option v-for="material in heartsBlade.materials">{{material}}</option>
                                        </select>
                                    </label>
                                    <div v-if="getLevel >= 3">
                                        <label>
                                            <span>Weapon Property</span>
                                            <select v-model="heartsBlade.chosenProperty">
                                                <option value="">None</option>
                                                <template v-for="property in heartsBlade.properties">
                                                    <option :value="property">{{property.name}}</option>
                                                </template>
                                            </select>
                                        </label>
                                    </div>
                                    <div v-if="getLevel >= 6">
                                        <label>
                                            <span>Combination Type</span>
                                            <select v-model="heartsBlade.chosenCombination">
                                                <option value="">None</option>
                                                <template v-for="weapon in weapons">
                                                    <option :value="weapon" v-if="heartsBlade.types.includes(weapon.name)">{{weapon.name}}</option>
                                                </template>
                                            </select>
                                        </label>
                                    </div>
                                </form>
                                <form v-if="callingSelected.name == 'Murder Princess'">
                                    <label>
                                        <span>Weapon Type</span>
                                        <select v-model="wrathsBlade.chosenType">
                                            <option value="">None</option>
                                            <template v-for="weapon in weapons">
                                                <option :value="weapon" v-if="wrathsBlade.types.includes(weapon.name)">{{weapon.name}}</option>
                                            </template>
                                        </select>
                                    </label>
                                    <label>
                                        <span>Weapon Material</span>
                                        <select v-model="wrathsBlade.chosenMaterial">
                                            <option value="">None</option>
                                            <option v-for="material in wrathsBlade.materials">{{material}}</option>
                                        </select>
                                    </label>
                                    <div v-if="getLevel >= 3">
                                        <label>
                                            <span>Weapon Property</span>
                                            <select v-model="wrathsBlade.chosenProperty">
                                                <option value="">None</option>
                                                <template v-for="property in wrathsBlade.properties">
                                                    <option :value="property">{{property.name}}</option>
                                                </template>
                                            </select>
                                        </label>
                                    </div>
                                    <div v-if="getLevel >= 6">
                                        <label>
                                            <span>Combination Type</span>
                                            <select v-model="wrathsBlade.chosenCombination">
                                                <option value="">None</option>
                                                <template v-for="weapon in weapons">
                                                    <option :value="weapon" v-if="wrathsBlade.types.includes(weapon.name)">{{weapon.name}}</option>
                                                </template>
                                            </select>
                                        </label>
                                    </div>
                                </form>
                            </article>

                            <article id="loadout">
                                <header>
                                    <nav>
                                        <ul>
                                            <li>
                                                <i class="fa-solid fa-toolbox fa-xl"></i>
                                            </li>
                                            <li>
                                                <hgroup>
                                                    <h4>Weapons and Armor</h4>
                                                    <h5>What gear does your character use?</h5>
                                                </hgroup>
                                            </li>
                                        </ul>
                                    </nav>
                                </header>
                                <form>
                                    <label style="display: grid;grid-template-columns: 3fr 1fr;">
                                        <span>Weapon</span>
                                        <span style="text-align: center;">Custom</span>
                                        <select v-model="weaponSelected">
                                            <option value="">None</option>
                                            <option v-for="weapon in weapons" :value="weapon">{{weapon.name}}</option>
                                        </select>
                                        <input type="checkbox" style="place-self: center;" v-model="weaponCustom"/>
                                    </label>
                                    <label style="display: grid;grid-template-columns: 3fr 1fr;">
                                        <span>Armor</span>
                                        <span style="text-align: center;">Custom</span>
                                        <select v-model="armorSelected">
                                            <option value="">None</option>
                                            <option v-for="armor in armors" :value="armor">{{armor.name}}</option>
                                        </select>
                                        <input type="checkbox" style="place-self: center;" v-model="armorCustom"/>
                                    </label>
                                    <label style="display: grid;grid-template-columns: 3fr 1fr;">
                                        <span>Shield</span>
                                        <span style="text-align: center;">Custom</span>
                                        <select v-model="shieldSelected">
                                            <option value="">None</option>
                                            <option v-for="shield in shields" :value="shield">{{shield.name}}</option>
                                        </select>
                                        <input type="checkbox" style="place-self: center;" v-model="shieldCustom"/>
                                    </label>
                                    <div v-if="weaponCustom || armorCustom || shieldCustom">
                                        <hr>
                                        <h5>Customization</h5>
                                        <div v-if="weaponCustom">
                                            <label>
                                                Custom Weapon Abilities
                                                <select v-model="customWeaponSelected">
                                                    <option value="">None</option>
                                                    <template v-for="custom in customWeaponTypes">
                                                        <option :value="custom">{{custom.name}}</option>
                                                    </template>
                                                </select>
                                            </label>
                                            <div v-if="customWeaponSelected">
                                                <label v-if="customWeaponSelected.name == 'Combination'">
                                                    Second Weapon Type
                                                    <select v-model="combinationWeaponSelected">
                                                        <option v-for="weapon in weapons" :value="weapon">{{weapon.name}}</option>
                                                    </select> 
                                                </label>
                                                <p>{{customWeaponSelected.description}}</p>
                                                <ul>
                                                    <li v-for="mechanic in customWeaponSelected.mechanics">{{mechanic}}</li>
                                                </ul>
                                                <p>Cost: {{customWeaponSelected.cost}}</p>
                                                <hr v-if="armorCustom || shieldCustom">
                                            </div>
                                        </div>
                                        <div v-if="armorCustom">
                                            <label>
                                                Custom Armor Abilities
                                                <select v-model="customArmorSelected">
                                                    <option value="">None</option>
                                                    <template v-for="custom in customArmorTypes">
                                                        <option :value="custom">{{custom.name}}</option>
                                                    </template>
                                                </select>
                                            </label>
                                            <p v-if="customArmorSelected">{{customArmorSelected.description}}</p>
                                            <ul v-if="customArmorSelected">
                                                <li v-for="mechanic in customArmorSelected.mechanics">{{mechanic}}</li>
                                            </ul>
                                            <p v-if="customArmorSelected">Cost: {{customArmorSelected.cost}}</p>
                                            <hr v-if="customArmorSelected && shieldCustom">

                                        </div>
                                        <div v-if="shieldCustom">
                                            <label>
                                                Custom Shield Abilities
                                                <select v-model="customShieldSelected">
                                                    <option value="">None</option>
                                                    <template v-for="custom in customShieldTypes">
                                                        <option :value="custom">{{custom.name}}</option>
                                                    </template>
                                                </select>
                                            </label>
                                            <p v-if="customShieldSelected">{{customShieldSelected.description}}</p>
                                            <ul v-if="customShieldSelected">
                                                <li v-for="mechanic in customShieldSelected.mechanics">{{mechanic}}</li>
                                            </ul>
                                            <p v-if="customShieldSelected">Cost: {{customShieldSelected.cost}}</p>

                                        </div>
                                    </div>
                                    
                                </form>
                            </article>

                            <article id="inventoryForm" v-if="historySelected">
                                <header>
                                    <nav>
                                        <ul>
                                            <li>
                                                <i class="fa-solid fa-box fa-xl"></i>
                                            </li>
                                            <li>
                                                <hgroup>
                                                    <h4>Inventory</h4>
                                                    <h5>Prepare for Your Journey</h5>
                                                </hgroup>
                                            </li>
                                        </ul>
                                    </nav>
                                </header>
                                <div style="display: grid; grid-gap: 5px; grid-template-columns: repeat(3, minmax(0, 1fr));">
                                    <label>
                                        Gems
                                        <input type="text" v-model="gems">
                                    </label>
                                    <label>
                                        Coins
                                        <input type="text" v-model="coins">
                                    </label>
                                    <label>
                                        Stones
                                        <input type="text" v-model="stones">
                                    </label>
                                </div>
                                <!--<p>Your History gives you two of the following:</p>
                                <ul>
                                    <template v-for="region in histories">
                                        <template v-for="history in region">
                                            <li v-if="history.name == historySelected.name" v-for="gear in history.gear">{{gear}}</li>
                                        </template>
                                    </template>
                                </ul>
                                <div v-if="(wearyHistory && quirkSelected.name == 'Weary (Walker of Two Paths)')">
                                    <p>Your Extra History from your Weary quirk also gives you two of the following:</p>
                                    <ul>
                                        <template v-for="region in histories">
                                            <template v-for="history in region">
                                                <li v-if="history.name == wearyHistory" v-for="gear in history.gear">{{gear}}</li>
                                            </template>
                                        </template>
                                    </ul>
                                </div>
                                <div v-if="quirkSelected.name == 'Weary (Scarred Soul)'">
                                    <p>Your Weary Quirk also gives you a trusty weapon. This weapon can be of any Type, except for Combination or imbued.</p>
                                </div>-->
                                <div style="display: grid; grid-gap: 5px; grid-template-columns: repeat(3, minmax(0, 1fr));">
                                        <select v-model="itemSelected" style="grid-column: auto / span 2 ;">
                                            <optgroup label="Melee Weapons"><option v-for="item in items.melee" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Missile Weapons"><option v-for="item in items.missile" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Armor"><option v-for="item in items.armor" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Shields"><option v-for="item in items.shields" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Outfits"><option v-for="item in items.outfits" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Wearable Accessories"><option v-for="item in items.wearableAccessories" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Wayfinding"><option v-for="item in items.wayfinding" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Illumination"><option v-for="item in items.illumination" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Specialist Kits"><option v-for="item in items.specialist" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Tomes"><option v-for="item in items.tomes" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Consumables"><option v-for="item in items.consumables" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Combustibles & Chemicals"><option v-for="item in items.chemicals" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Miscellaneous"><option v-for="item in items.miscellaneous" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Curiosities, Artifacts, & Gadgets"><option v-for="item in items.artifacts" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                            <optgroup label="Other World Items"><option v-for="item in items.other" :value="item">{{item.name}} - {{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}} - {{writeDenomination(item.cost)}}</option></optgroup>
                                        </select>
                                    <button @click="addItem(itemSelected)">Add Item</button>
                                </div>
                                <div style="overflow-x: auto;">
                                    <table role="grid" v-if="inventory.length || weaponSelected || armorSelected || shieldSelected">
                                        <thead>
                                            <tr>
                                                <th>Item</th>
                                                <th>Slots</th>
                                                <th>Value</th>
                                                <th>#</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr v-if="weaponSelected">
                                                <td><span v-if="customWeaponSelected">{{customWeaponSelected.name}}&nbsp;</span>{{weaponSelected.name}}<span v-if="combinationWeaponSelected"> + {{combinationWeaponSelected.name}}</span></td>
                                                <td v-if="!combinationWeaponSelected"> {{weaponSelected.bulk}}</td>
                                                <td v-if="combinationWeaponSelected"> {{(weaponSelected.bulk > combinationWeaponSelected.bulk) ? weaponSelected.bulk : combinationWeaponSelected.bulk}}</td>
                                                <td v-if="!customWeaponSelected">{{writeDenomination(weaponSelected.cost)}}</td>
                                                <td v-if="customWeaponSelected">{{writeDenomination(getCustomWeaponCost)}}</td>
                                                <td><input type="text" v-model="weaponNumber"></td>
                                                <td></td>
                                            </tr>
                                            <tr v-if="armorSelected">
                                                <td><span v-if="customArmorSelected">{{customArmorSelected.name}}&nbsp;</span>{{armorSelected.name}}</td>
                                                <td>{{armorSelected.bulk}}</td>
                                                <td v-if="!customArmorSelected">{{writeDenomination(armorSelected.cost)}}</td>
                                                <td v-if="customArmorSelected">{{writeDenomination(getCustomArmorCost)}}</td>
                                                <td><input type="text" v-model="armorNumber"></td>
                                                <td></td>
                                            </tr>
                                            <tr v-if="shieldSelected">
                                                <td><span v-if="customShieldSelected">{{customShieldSelected.name}}&nbsp;</span>{{shieldSelected.name}}</td>
                                                <td>{{shieldSelected.bulk}}</td>
                                                <td v-if="!customShieldSelected">{{writeDenomination(shieldSelected.cost)}}</td>
                                                <td v-if="customShieldSelected">{{writeDenomination(getCustomShieldCost)}}</td>
                                                <td><input type="text" v-model="shieldNumber"></td>
                                                <td></td>
                                            </tr>
                                            <tr v-for="item in inventory" :key="item.id">
                                                <td>{{item.name}}</td>
                                                <td>{{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}}</td>
                                                <td>{{writeDenomination(item.cost)}}</td>
                                                <td><input type="text" v-model="item.number" style="min-width: 5em;"></td>
                                                <td><a @click="remove(item)">Remove</a></td>
                                            </tr>
                                        </tbody>
                                        <thead>
                                            <tr>
                                                <th>Total:</th>
                                                <th>{{getWeight}} {{getWeight != 1 ? "Slots" : "Slot"}}</th>
                                                <th>{{getTotalValue}}</th>
                                                <th></th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </article>

                            <article id="traitsForm">
                                <header>
                                    <nav>
                                        <ul>
                                            <li>
                                                <i class="fa-solid fa-gauge fa-xl"></i>
                                            </li>
                                            <li>
                                                <hgroup>
                                                    <h4>Stat Traits</h4>
                                                    <h5>What are your strengths and weaknesses?</h5>
                                                </hgroup>
                                            </li>
                                        </ul>
                                    </nav>
                                </header>
                                <blockquote>
                                    <p>Subtract 1 point from one of your aptitudes and either:</p>
                                    <ul>
                                        <li>Add 2 points to one of your Aptitudes OR,</li>
                                        <li>Add 1 point to two of your Aptitudes.</li>
                                        <span v-if="speciesSelected.name == 'Human (Dimensional Stray)'">Then, as a Dimensional Stray Human, add an additional point to a stat that hasn't been chosen yet.</span>
                                    </ul>
                                </blockquote>
                                <form>
                                    <div class="grid">
                                        <label>
                                            Might
                                            <select v-model="mightTrait">
                                                <option v-for="trait in traits">{{trait}}</option>
                                            </select>
                                        </label>
                                        <label>
                                            Deftness
                                            <select v-model="deftTrait">
                                                <option v-for="trait in traits">{{trait}}</option>
                                            </select>
                                        </label>
                                        <label>
                                            Grit
                                            <select v-model="gritTrait">
                                                <option v-for="trait in traits">{{trait}}</option>
                                            </select>
                                        </label>
                                    </div>
                                    <div class="grid">
                                        <label>
                                            Insight
                                            <select v-model="insightTrait">
                                                <option v-for="trait in traits">{{trait}}</option>
                                            </select>
                                        </label>
                                        <label>
                                            Aura
                                            <select v-model="auraTrait">
                                                <option v-for="trait in traits">{{trait}}</option>
                                            </select>
                                        </label>
                                    </div>
                                </form>
                            </article>
                        
                            <article v-if="(getLevel >= 2 || (speciesSelected.name == 'Human (Native)'))" id="electivesForm">
                                <header>
                                    <nav>
                                        <ul>
                                            <li><i class="fa-solid fa-check-to-slot fa-xl"></i></li>
                                            <li>
                                                <hgroup>
                                                    <h4>Elective Abilities</h4>
                                                    <h5>You'll gain more of these as you level up</h5>
                                                </hgroup>
                                            </li>
                                        </ul>
                                    </nav>
                                </header>
                                <label v-if="speciesSelected.name == 'Human (Native)' && callingSelected">
                                    Native Human Extra Elective Ability:
                                    <select v-model="nativeHumanElective">
                                        <option value="" v-if="!callingSelected">Select a Calling</option>
                                        <optgroup :label="callingSelected.name + ' Basic Abilities'" v-if="callingSelected">
                                            <option v-for="ability in callingSelected.standardAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                    </select>
                                </label>
                                <label v-if="getLevel >= 2 && callingSelected">
                                    Level 2
                                    <select v-model="elective2">
                                        <optgroup :label="callingSelected.name + ' Basic Abilities'" v-if="callingSelected">
                                            <option v-for="ability in callingSelected.standardAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                    </select>
                                </label>
                                <label v-if="getLevel >= 4 && callingSelected">
                                    Level 4
                                    <select v-model="elective4">
                                        <optgroup :label="callingSelected.name + ' Basic Abilities'" v-if="callingSelected">
                                            <option v-for="ability in callingSelected.standardAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                    </select>
                                </label>
                                <label v-if="getLevel >= 6 && callingSelected">
                                    Level 6
                                    <select v-model="elective6">
                                        <optgroup :label="callingSelected.name + ' Basic Abilities'" v-if="callingSelected">
                                            <option v-for="ability in callingSelected.standardAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                        <optgroup :label="callingSelected.name + ' Advanced Abilities'" v-if="callingSelected">
                                            <option v-for="ability in callingSelected.advancedAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                        <optgroup :label="speciesSelected.name + 'Maturative Abilities'">
                                            <option v-for="ability in speciesSelected.maturativeAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                    </select>
                                </label>
                                <label v-if="getLevel >= 8 && callingSelected">
                                    Level 8
                                    <select v-model="elective8">
                                        <optgroup :label="callingSelected.name + ' Basic Abilities'" v-if="callingSelected">
                                            <option v-for="ability in callingSelected.standardAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                        <optgroup :label="callingSelected.name + ' Advanced Abilities'" v-if="callingSelected">
                                            <option v-for="ability in callingSelected.advancedAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                        <optgroup :label="speciesSelected.name + 'Maturative Abilities'">
                                            <option v-for="ability in speciesSelected.maturativeAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                    </select>
                                </label>
                                <label v-if="getLevel == 10 && callingSelected">
                                    Level 10
                                    <select v-model="elective10">
                                        <optgroup :label="callingSelected.name + ' Basic Abilities'" v-if="callingSelected">
                                            <option v-for="ability in callingSelected.standardAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                        <optgroup :label="callingSelected.name + ' Advanced Abilities'" v-if="callingSelected">
                                            <option v-for="ability in callingSelected.advancedAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                        <optgroup :label="speciesSelected.name + 'Maturative Abilities'">
                                            <option v-for="ability in speciesSelected.maturativeAbilities" :value="ability">{{ability.name}}</option>
                                        </optgroup>
                                    </select>
                                </label>
                            </article>

                            <article id="giftsForm" v-if="(Number(getBrightPoints) + Number(brightPoints)) >=3 || (Number(getDarkPoints) + Number(darkPoints)) >= 3 || speciesSelected.name == 'Tenebrate'">
                                <header>
                                    <nav>
                                        <ul>
                                            <li><i class="fa-solid fa-circle-half-stroke fa-xl"></i></li>
                                            <li>
                                                <hgroup>
                                                    <h4>Gifts</h4>
                                                    <h5>Signs of your allegiance to the Bright or the Dark</h5>
                                                </hgroup>
                                            </li>
                                        </ul>
                                    </nav>
                                </header>
                                <form>
                                    <label v-if="(Number(getBrightPoints) + Number(brightPoints)) >= 3">
                                        Bright Gifts
                                        <select v-model="brightGifts[0]">
                                            <option v-for="gift in gifts.bright" :value="gift.name">{{gift.name}}</option>
                                        </select>
                                        <select v-model="brightGifts[1]" v-if="(Number(getBrightPoints) + Number(brightPoints)) >= 6">
                                            <option v-for="gift in gifts.bright" :value="gift.name">{{gift.name}}</option>
                                        </select>
                                        <select v-model="brightGifts[2]" v-if="(Number(getBrightPoints) + Number(brightPoints)) >= 9">
                                            <option v-for="gift in gifts.bright" :value="gift.name">{{gift.name}}</option>
                                        </select>
                                    </label>
                                    <label v-if="(Number(getDarkPoints) + Number(darkPoints)) >= 3">
                                        Dark Gifts
                                        <select v-model="darkGifts[0]">
                                            <option v-for="gift in gifts.dark" :value="gift.name">{{gift.name}}</option>
                                        </select>
                                        <select v-model="darkGifts[1]" v-if="(Number(getDarkPoints) + Number(darkPoints)) >= 6">
                                            <option v-for="gift in gifts.dark" :value="gift.name">{{gift.name}}</option>
                                        </select>
                                        <select v-model="darkGifts[2]" v-if="(Number(getDarkPoints) + Number(darkPoints)) >= 9">
                                            <option v-for="gift in gifts.dark" :value="gift.name">{{gift.name}}</option>
                                        </select>
                                    </label>
                                    <label v-if="speciesSelected.name == 'Tenebrate'">
                                        Tenebrate Gift
                                        <select v-model="tenebrateGift">
                                            <option v-for="gift in gifts.dark" :value="gift.name">{{gift.name}}</option>
                                        </select>
                                    </label>
                                </form>
                            </article>

                            <article id="companionForm">
                                <header>
                                    <nav>
                                        <ul>
                                            <li>
                                                <i class="fa-solid fa-address-card fa-xl"></i>
                                            </li>
                                            <li>
                                                <hgroup>
                                                    <h4>Companions</h4>
                                                    <h5>Do you have a Follower, or Pet?</h5>
                                                </hgroup>
                                            </li>
                                        </ul>
                                    </nav>
                                </header>
                                <form>
                                    <label>
                                        Do you have a Companion?
                                        <select v-model="companionSelected" v-if="!callingSelected">
                                            <option value="">None</option>
                                            <optgroup label="Followers">
                                                <option v-for="companionType in companionTypes.followers" :value="companionType">{{companionType.name}}</option>
                                            </optgroup>
                                            <optgroup label="Pets">
                                                <option v-for="companionType in companionTypes.pets" :value="companionType">{{companionType.name}}</option>
                                            </optgroup>
                                            <optgroup label="Mounts">
                                                <option v-for="companionType in companionTypes.mounts" :value="companionType">{{companionType.name}}</option>
                                            </optgroup>
                                            <optgroup label="Pack Beasts">
                                                <option v-for="companionType in companionTypes.packBeasts" :value="companionType">{{companionType.name}}</option>
                                            </optgroup>
                                        </select>
                                        <select v-model="companionSelected" v-if="callingSelected">
                                            <option value="">None</option>
                                            <optgroup label="Followers">
                                                <option v-for="companionType in companionTypes.followers" :value="companionType">{{companionType.name}}</option>
                                            </optgroup>
                                            <optgroup label="Pets">
                                                <option v-for="companionType in companionTypes.pets" :value="companionType">{{companionType.name}}</option>
                                            </optgroup>
                                            <optgroup label="Mounts">
                                                <option v-for="companionType in companionTypes.mounts" :value="companionType">{{companionType.name}}</option>
                                            </optgroup>
                                            <optgroup label="Pack Beasts">
                                                <option v-for="companionType in companionTypes.packBeasts" :value="companionType">{{companionType.name}}</option>
                                            </optgroup>
                                            <optgroup label="Soul Companions" v-if="callingSelected.name == 'Battle Princess'">
                                                <option  v-for="companionType in companionTypes.soulCompanions" :value="companionType">{{companionType.name}}</option>
                                            </optgroup>
                                        </select>
                                    </label>
                                    <div v-if="companionSelected">
                                        <label v-if="companionSelected.name == 'Scamp' || companionSelected.name == 'Scholar' || companionSelected.name == 'Guide' || companionSelected.name == 'Custrel'">
                                            Follower Species
                                            <select v-model="followerSpecies">
                                                <option v-for="specie in species" :value="specie">{{specie.name}}</option>
                                            </select>
                                        </label>
                                        <div v-if="followerSpecies">
                                            <label v-if="followerSpecies.name == 'Human (Native)'">
                                                Calling
                                                <select v-model="followerHumanCalling">
                                                    <option v-for="calling in companionSelected.electiveAbility">{{calling}}</option>
                                                </select>
                                            </label>
                                            <label v-if="followerHumanCalling">
                                                Elective Ability
                                                <select v-model="followerHumanAbility">
                                                    <template v-for="calling in callings">
                                                        <template v-for="ability in calling.standardAbilities" v-if="calling.name == followerHumanCalling">
                                                            <option :value="ability">{{ability.name}}</option>
                                                        </template>
                                                    </template>
                                                </select>
                                            </label>
                                            <label v-if="followerSpecies.name == 'Elf'">
                                                Immortal Ego Immunity
                                                <select v-model="followerElfImmunity">
                                                    <option>Ballooned</option>
                                                    <option>Blinded/Deafened</option>
                                                    <option>Chibbed</option>
                                                    <option>Disoriented</option>
                                                    <option>Dispirited</option>
                                                    <option>Fatigued</option>
                                                    <option>Jellyfied</option>
                                                    <option>Petrified</option>
                                                    <option>Putrefied</option>
                                                    <option>Restrained</option>
                                                    <option>Starved</option>
                                                    <option>Suffocated</option>
                                                    <option>Terrified</option>
                                                    <option>Toppled</option>
                                                </select>
                                            </label>
                                            <label v-if="followerSpecies.name == 'Tenebrate'">
                                                Dark Gift
                                                <select v-model="followerDarkGift">
                                                    <option v-for="gift in gifts.dark" :value="gift.name">{{gift.name}}</option>
                                                </select>
                                            </label>
                                        </div>
                                        <label v-if="companionSelected.name == 'Guardian Animal' || companionSelected.name == 'Brave Toy'">
                                            Rank 1 Soul Companion Ability
                                            <select v-model="soulCompAbility1">
                                                <option v-for="ability in companionSelected.optAbilities" :value="ability">{{ability.name}}</option>
                                            </select>
                                        </label>
                                        <label v-if="(companionSelected.name == 'Guardian Animal' || companionSelected.name == 'Brave Toy') && getLevel >= 5">
                                            Rank 5 Soul Companion Ability
                                            <select v-model="soulCompAbility5">
                                                <option v-for="ability in companionSelected.optAbilities" :value="ability">{{ability.name}}</option>
                                            </select>
                                        </label>
                                    </div>
                                </form>
                            </article>
                        </div>
                    </div>
                    
                    <article id="charSheet" v-show="!edit" v-if="callingSelected && speciesSelected && homelandSelected && historySelected && quirkSelected">
                        <header>Character Sheet</header>
                        
                        
                        <div id="bio">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-address-card fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h4>{{characterName}}</h4>
                                            <h5 v-if="callingSelected">{{callingSelected.name}} {{getLevel}}</h5>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>
                            <div v-if="portraitURL" class="flex justify-center align-center">
                                <img :src="portraitURL" style="border-radius: 100%; aspect-ratio: 1/1; max-width: 250px; object-fit: cover;" />
                            </div>
                            <div class="grid">
                                <hgroup>
                                    <h6>{{speciesSelected.name}}</h6>
                                    <span>Species</span>
                                </hgroup>
                                <hgroup>
                                    <h6>{{homelandSelected.name}}</h6>
                                    <span>Homeland</span>
                                </hgroup>
                            </div>
                            <hr>
                            <nav>
                                <ul>
                                    <li><i class="fa-solid fa-language fa-xl"></i></li>
                                    <li>
                                        <hgroup>
                                            <h6>Languages</h6>
                                            <span>Determines who you can communicate with</span>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>
                            <ul>
                                <template v-for="language in languages">
                                    <li v-if="language.known">{{language.name}}</li>
                                </template>
                            </ul>
                            <hr>
                        </div>
                        <div id="heartWrathBlade" v-if="(callingSelected.name == 'Battle Princess' && heartsBlade.chosenType) || (callingSelected.name == 'Murder Princess' && wrathsBlade.chosenType)">
                            <nav>
                                <ul>
                                    <li><i class="fa-solid fa-gun fa-xl"></i></li>
                                    <li>
                                        <hgroup v-if="callingSelected.name == 'Battle Princess'">
                                            <h6 v-if="heartsBlade.chosenMaterial && heartsBlade.chosenType"><span v-if="heartsBlade.chosenProperty">{{heartsBlade.chosenProperty.name}}&nbsp;</span>{{heartsBlade.chosenMaterial}}&nbsp;{{heartsBlade.chosenType.name}}<span v-if="heartsBlade.chosenCombination"> + {{heartsBlade.chosenCombination.name}}</span></h6>
                                            <span>Heart's Blade</span>
                                        </hgroup>
                                        <hgroup v-if="callingSelected.name == 'Murder Princess'">
                                            <h6 v-if="wrathsBlade.chosenMaterial && wrathsBlade.chosenType"><span v-if="wrathsBlade.chosenProperty">{{wrathsBlade.chosenProperty.name}}&nbsp;</span>{{wrathsBlade.chosenMaterial}}&nbsp;{{wrathsBlade.chosenType.name}}<span v-if="wrathsBlade.chosenCombination"> + {{wrathsBlade.chosenCombination.name}}</span></h6>
                                            <span>Wrath's Blade</span>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>
                            <blockquote>
                                <p>
                                    Damage Threshold:&nbsp;
                                    <span v-if="callingSelected.name == 'Battle Princess'">
                                        <span v-if="heartsBlade.chosenProperty">
                                            <span v-if="heartsBlade.chosenProperty.name == 'Righteous'">
                                                <span v-if="heartsBlade.chosenCombination">{{heartsBlade.chosenType.threshold < heartsBlade.chosenCombination.threshold ? heartsBlade.chosenType.threshold - 2 : heartsBlade.chosenCombination.threshold - 2}}</span>
                                                <span v-else>{{heartsBlade.chosenType.threshold - 2}}</span>
                                            </span>
                                            <span v-else>
                                                <span v-if="heartsBlade.chosenCombination">{{heartsBlade.chosenType.threshold < heartsBlade.chosenCombination.threshold ? heartsBlade.chosenType.threshold : heartsBlade.chosenCombination.threshold}}</span>
                                                <span v-else>{{heartsBlade.chosenType.threshold}}</span>    
                                            </span>
                                        </span>
                                        <span v-else>
                                            <span v-if="heartsBlade.chosenCombination">{{heartsBlade.chosenType.threshold < heartsBlade.chosenCombination.threshold ? heartsBlade.chosenType.threshold : heartsBlade.chosenCombination.threshold}}</span>
                                            <span v-else>{{heartsBlade.chosenType.threshold}}</span>
                                        </span>
                                    </span>
                                    <span v-else-if="callingSelected.name == 'Murder Princess'">
                                        <span v-if="wrathsBlade.chosenProperty">
                                            <span v-if="wrathsBlade.chosenProperty.name == 'Righteous'">
                                                <span v-if="wrathsBlade.chosenCombination">{{wrathsBlade.chosenType.threshold < wrathsBlade.chosenCombination.threshold ? wrathsBlade.chosenType.threshold - 2 : wrathsBlade.chosenCombination.threshold - 2}}</span>
                                                <span v-else>{{wrathsBlade.chosenType.threshold - 2}}</span>
                                            </span>
                                            <span v-else>
                                                <span v-if="wrathsBlade.chosenCombination">{{wrathsBlade.chosenType.threshold < wrathsBlade.chosenCombination.threshold ? wrathsBlade.chosenType.threshold : wrathsBlade.chosenCombination.threshold}}</span>
                                                <span v-else>{{wrathsBlade.chosenType.threshold}}</span>    
                                            </span>
                                        </span>
                                        <span v-else>
                                            <span v-if="wrathsBlade.chosenCombination">{{wrathsBlade.chosenType.threshold < wrathsBlade.chosenCombination.threshold ? wrathsBlade.chosenType.threshold : wrathsBlade.chosenCombination.threshold}}</span>
                                            <span v-else>{{wrathsBlade.chosenType.threshold}}</span>
                                        </span>
                                    </span>
                                </p>
                            </blockquote>
                            <!--<p v-if="callingSelected.name == 'Battle Princess'">{{heartsBlade.chosenType.description}}</p>
                            <p v-else-if="callingSelected.name == 'Murder Princess'">{{wrathsBlade.chosenType.description}}</p>-->
                            <ul v-if="callingSelected.name == 'Battle Princess'">
                                <li>{{heartsBlade.chosenType.name}}:</li>
                                <!--<ul>
                                    <li>{{heartsBlade.chosenType.description}}</li>
                                    <li v-for="mechanic in heartsBlade.chosenType.mechanics">{{mechanic}}</li>
                                </ul>-->
                                <li v-if="heartsBlade.chosenCombination">{{heartsBlade.chosenCombination.name}}:</li>
                                <!--<ul v-if="heartsBlade.chosenCombination">
                                    <li v-for="mechanic in heartsBlade.chosenCombination.mechanics">{{mechanic}}</li>
                                </ul>-->
                                <li v-if="heartsBlade.chosenProperty">{{heartsBlade.chosenProperty.name}}:</li>
                                <!--<ul v-if="heartsBlade.chosenProperty">
                                    <li>{{heartsBlade.chosenProperty.description}}</li>
                                </ul>-->
                            </ul>
                            <ul v-if="callingSelected.name == 'Murder Princess'">
                                <li>{{wrathsBlade.chosenType.name}}:</li>
                                <!--<ul>
                                    <li>{{wrathsBlade.chosenType.description}}</li>
                                    <li v-for="mechanic in wrathsBlade.chosenType.mechanics">{{mechanic}}</li>
                                </ul>-->
                                <li v-if="wrathsBlade.chosenCombination">{{wrathsBlade.chosenCombination.name}}:</li>
                                <!--<ul v-if="wrathsBlade.chosenCombination">
                                    <li v-for="mechanic in wrathsBlade.chosenCombination.mechanics">{{mechanic}}</li>
                                </ul>-->
                                <li v-if="wrathsBlade.chosenProperty">{{wrathsBlade.chosenProperty.name}}:</li>
                                <!--<ul v-if="wrathsBlade.chosenProperty">
                                    <li>{{wrathsBlade.chosenProperty.description}}</li>
                                </ul>-->
                            </ul>
                        </div>
                        <hr>
                        <div id="Weapon" v-if="weaponSelected">
                            <nav>
                                <ul>
                                    <li><i class="fa-solid fa-gun fa-xl"></i></li>
                                    <li>
                                        <hgroup>
                                            <h6><span v-if="customWeaponSelected">{{customWeaponSelected.name}}&nbsp;</span>{{weaponSelected.name}}<span v-if="combinationWeaponSelected"> + {{combinationWeaponSelected.name}}</span></h6>
                                            <span>Weapon</span>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>
                            <blockquote>
                                <p>
                                    Damage Threshold:
                                    <span v-if="(customWeaponSelected != 'Dangerous') && !combinationWeaponSelected">{{weaponSelected.threshold}}</span>
                                    <span v-if="customWeaponSelected">
                                        <span v-if="combinationWeaponSelected">{{(weaponSelected.threshold < combinationWeaponSelected.threshold) ? weaponSelected.threshold : combinationWeaponSelected.threshold}}</span>
                                        <span v-if="customWeaponSelected.name == 'Dangerous'">{{(weaponSelected.threshold - 2)}}</span>
                                    </span>
                                </p>
                                <p>
                                    Bulk: 
                                    <span v-if="!combinationWeaponSelected"> {{weaponSelected.bulk}}</span>
                                    <span v-if="combinationWeaponSelected"> {{(weaponSelected.bulk > combinationWeaponSelected.bulk) ? weaponSelected.bulk : combinationWeaponSelected.bulk}}</span>
                                </p>
                                <p>Base Weapon Cost: {{writeDenomination(weaponSelected.cost)}}</p>
                                <p v-if="customWeaponSelected">Modified Weapon Cost: {{writeDenomination(getCustomWeaponCost)}}</p>
                            </blockquote>
                            <!--<p>{{weaponSelected.description}}</p>
                            <ul>
                                <template v-for="mechanic in weaponSelected.mechanics">
                                    <li>{{mechanic}}</li>
                                </template>
                            </ul>-->
                            <!--<div v-if="weaponSelected && weaponCustom && combinationWeaponSelected">
                                <p>{{combinationWeaponSelected.description}}</p>
                                <ul>
                                    <li v-for="mechanic in combinationWeaponSelected.mechanics">{{mechanic}}</li>
                                </ul>
                            </div>-->
                            <div v-if="weaponCustom && customWeaponSelected">
                                <hr>
                                <h6>Weapon Customization</h6>
                                <strong>{{customWeaponSelected.name}}</strong>
                                <!--<p>{{customWeaponSelected.description}}</p>
                                <ul>
                                    <li v-for="mechanic in customWeaponSelected.mechanics">{{mechanic}}</li>
                                </ul>-->
                            </div>
                        </div>
                        <hr>
                        <div id="Armor" v-if="armorSelected">
                            <nav>
                                <ul>
                                    <li><i class="fa-solid fa-shield fa-xl"></i></li>
                                    <li>
                                        <hgroup>
                                            <h6><span v-if="customArmorSelected">{{customArmorSelected.name}}&nbsp;</span>{{armorSelected.name}}</h6>
                                            <span>Armor</span>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>
                            <blockquote>
                                <p>Defense Bonus: {{armorSelected.bonus}}</p>
                                <p>Bulk: {{armorSelected.bulk}}</p>
                                <p>
                                    Base Armor Cost: {{writeDenomination(armorSelected.cost)}}
                                </p>
                                <p v-if="customArmorSelected">Modified Armor Cost: {{writeDenomination(getCustomArmorCost)}}</p>
                            </blockquote>
                            <!--<p>{{armorSelected.description}}</p>-->
                            <div v-if="armorCustom && customArmorSelected">
                                <hr>
                                <h6>Armor Customization</h6>
                                <strong>{{customArmorSelected.name}}</strong>
                                <!--<p>{{customArmorSelected.description}}</p>
                                <ul>
                                    <li v-for="mechanic in customArmorSelected.mechanics">{{mechanic}}</li>
                                </ul>-->
                            </div>
                        </div>
                        <hr>
                        <div id="Shield" v-if="shieldSelected">
                            <nav>
                                <ul>
                                    <li><i class="fa-solid fa-shield fa-xl"></i></li>
                                    <li>
                                        <hgroup>
                                            <h6><span v-if="customShieldSelected">{{customShieldSelected.name}}&nbsp;</span>{{shieldSelected.name}}</h6>
                                            <span>Shield</span>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>
                            <blockquote>
                                <p>Defense Bonus: {{shieldSelected.bonus}}</p>
                                <p>Bulk: {{shieldSelected.bulk}}</p>
                                <p>
                                    Base Shield Cost: {{writeDenomination(shieldSelected.cost)}}
                                </p>
                                <p v-if="customShieldSelected">Modified Shield Cost: {{writeDenomination(getCustomShieldCost)}}</p>
                            </blockquote>
                            <!--<p>{{shieldSelected.description}}</p>-->
                            <div v-if="shieldCustom && customShieldSelected">
                                <hr>
                                <h6>Shield Customization</h6>
                                <strong>{{customShieldSelected.name}}</strong>
                                <!--<p>{{customShieldSelected.description}}</p>
                                <ul>
                                    <li v-for="mechanic in customShieldSelected.mechanics">{{mechanic}}</li>
                                </ul>-->
                            </div>
                        </div>
                        <hr>
                        <div id="history">
                            <nav>
                                <ul>
                                    <li><i class="fa-solid fa-clock fa-xl"></i></li>
                                    <li>
                                        <hgroup>
                                            <h6>{{historySelected.name}}</h6>
                                            <span>History</span>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>
                            <template v-for="history in histories.blazingGarden">
                                <details open v-if="historySelected.name == history.name">
                                    <summary>{{history.name}}</summary>
                                    <!--<p>{{history.description}}</p>
                                    <p>Purviews:</p>
                                    <ul>
                                        <li v-for="purview in history.purviews">{{purview}}</li>
                                    </ul>-->
                                </details>
                            </template>
                            <template v-for="history in histories.buriedKingdom">
                                <details open v-if="historySelected.name == history.name">
                                    <summary>{{history.name}}</summary>
                                    <!--<p>{{history.description}}</p>
                                    <p>Purviews:</p>
                                    <ul>
                                        <li v-for="purview in history.purviews">{{purview}}</li>
                                    </ul>-->
                                </details>
                            </template>
                            <template v-for="history in histories.twilightMeridian">
                                <details open v-if="historySelected.name == history.name">
                                    <summary>{{history.name}}</summary>
                                    <!--<p>{{history.description}}</p>
                                    <p>Purviews:</p>
                                    <ul>
                                        <li v-for="purview in history.purviews">{{purview}}</li>
                                    </ul>-->
                                </details>
                            </template>
                            <template v-for="history in histories.wistfulDark">
                                <details open v-if="historySelected.name == history.name">
                                    <summary>{{history.name}}</summary>
                                    <!--<p>{{history.description}}</p>
                                    <p>Purviews:</p>
                                    <ul>
                                        <li v-for="purview in history.purviews">{{purview}}</li>
                                    </ul>-->
                                </details>
                            </template>
                            <template v-for="history in histories.otherWorld">
                                <details open v-if="historySelected.name == history.name">
                                    <summary>{{history.name}}</summary>
                                    <!--<p>{{history.description}}</p>
                                    <p>Purviews:</p>
                                    <ul>
                                        <li v-for="purview in history.purviews">{{purview}}</li>
                                    </ul>-->
                                </details>
                            </template>
                            <div v-if="(wearyHistory && quirkSelected.name == 'Weary (Walker of Two Paths)')">
                                <hr>
                                <strong>Extra History (Weary Quirk)</strong>
                                <template v-for="history in histories.blazingGarden">
                                    <details open v-if="wearyHistory == history.name">
                                        <summary>{{history.name}}</summary>
                                        <!--<p>{{history.description}}</p>
                                        <p>Purviews:</p>
                                        <ul>
                                            <li v-for="purview in history.purviews">{{purview}}</li>
                                        </ul>-->
                                    </details>
                                </template>
                                <template v-for="history in histories.buriedKingdom">
                                    <details open v-if="wearyHistory == history.name">
                                        <summary>{{history.name}}</summary>
                                        <!--<p>{{history.description}}</p>
                                        <p>Purviews:</p>
                                        <ul>
                                            <li v-for="purview in history.purviews">{{purview}}</li>
                                        </ul>-->
                                    </details>
                                </template>
                                <template v-for="history in histories.twilightMeridian">
                                    <details open v-if="wearyHistory == history.name">
                                        <summary>{{history.name}}</summary>
                                        <!--<p>{{history.description}}</p>
                                        <p>Purviews:</p>
                                        <ul>
                                            <li v-for="purview in history.purviews">{{purview}}</li>
                                        </ul>-->
                                    </details>
                                </template>
                                <template v-for="history in histories.wistfulDark">
                                    <details open v-if="wearyHistory == history.name">
                                        <summary>{{history.name}}</summary>
                                        <!--<p>{{history.description}}</p>
                                        <p>Purviews:</p>
                                        <ul>
                                            <li v-for="purview in history.purviews">{{purview}}</li>
                                        </ul>-->
                                    </details>
                                </template>
                                <template v-for="history in histories.otherWorld">
                                    <details open v-if="wearyHistory == history.name">
                                        <summary>{{history.name}}</summary>
                                        <!--<p>{{history.description}}</p>
                                        <p>Purviews:</p>
                                        <ul>
                                            <li v-for="purview in history.purviews">{{purview}}</li>
                                        </ul>-->
                                    </details>
                                </template>
                            </div>
                        </div>
                        <hr>
                        <div id="Quirk">
                            <nav>
                                <ul>
                                    <li><i class="fa-solid fa-shuffle fa-xl"></i></li>
                                    <li>
                                        <hgroup>
                                            <h6>{{quirkSelected.name}}</h6>
                                            <span>Quirk</span>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>
                            <template v-for="quirk in quirks.spirit">
                                <details open v-if="quirkSelected.name == quirk.name">
                                    <summary>{{quirk.name}}</summary>
                                    <!--<p>{{quirk.description}}</p>
                                    <p><strong>Advantages</strong></p>
                                    <ul>
                                        <li v-for="advantage in quirk.advantages">{{advantage}}</li>
                                    </ul>
                                    <p><strong>Disadvantages</strong></p>
                                    <ul>
                                        <li v-for="advantage in quirk.disadvantages">{{advantage}}</li>
                                    </ul>-->
                                </details>
                            </template>
                            <template v-for="quirk in quirks.physical">
                                <details open v-if="quirkSelected.name == quirk.name">
                                    <summary>{{quirk.name}}</summary>
                                    <!--<p>{{quirk.description}}</p>
                                    <p><strong>Advantages</strong></p>
                                    <ul>
                                        <li v-for="advantage in quirk.advantages">{{advantage}}</li>
                                    </ul>
                                    <p><strong>Disadvantages</strong></p>
                                    <ul>
                                        <li v-for="advantage in quirk.disadvantages">{{advantage}}</li>
                                    </ul>-->
                                </details>
                            </template>
                            <template v-for="quirk in quirks.fate">
                                <details open v-if="quirkSelected.name == quirk.name">
                                    <summary>{{quirk.name}}</summary>
                                    <!--<p>{{quirk.description}}</p>
                                    <p><strong>Advantages</strong></p>
                                    <ul>
                                        <li v-for="advantage in quirk.advantages">{{advantage}}</li>
                                    </ul>
                                    <p><strong>Disadvantages</strong></p>
                                    <ul>
                                        <li v-for="advantage in quirk.disadvantages">{{advantage}}</li>
                                    </ul>-->
                                </details>
                            </template>
                            <template v-for="quirk in quirks.eldritch">
                                <details open v-if="quirkSelected.name == quirk.name">
                                    <summary>{{quirk.name}}</summary>
                                    <!--<p>{{quirk.description}}</p>
                                    <p><strong>Advantages</strong></p>
                                    <ul>
                                        <li v-for="advantage in quirk.advantages">{{advantage}}</li>
                                    </ul>
                                    <p><strong>Disadvantages</strong></p>
                                    <ul>
                                        <li v-for="advantage in quirk.disadvantages">{{advantage}}</li>
                                    </ul>-->
                                </details>
                            </template>
                            <template v-for="quirk in quirks.robotic">
                                <details open v-if="quirkSelected.name == quirk.name">
                                    <summary>{{quirk.name}}</summary>
                                    <!--<p>{{quirk.description}}</p>
                                    <p><strong>Advantages</strong></p>
                                    <ul>
                                        <li v-for="advantage in quirk.advantages">{{advantage}}</li>
                                    </ul>
                                    <p><strong>Disadvantages</strong></p>
                                    <ul>
                                        <li v-for="advantage in quirk.disadvantages">{{advantage}}</li>
                                    </ul>-->
                                </details>
                            </template>
                        </div>
                        <hr>
                        <div id="attack">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-hand-fist fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h6>Attack Bonus</h6>
                                            <span>Add to my Attack rolls</span>
                                        </hgroup>
                                    </li>
                                </ul>
                                <ul>
                                    <li>Base</li>
                                    <li><button class="outline contrast">{{getAttack}}</button></li>
                                </ul>
                            </nav>
                            <div class="flex justify-center align-center justify-center">
                                <button class="outline" style="flex: 1">+{{parseFloat(getAttack) + parseFloat(getAttackBonus)}}</button>
                                <div style="flex: 5"></div>
                            </div>
                        </div>
                        <hr>
                        <div id="hearts">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-heart fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h6>Hearts Total</h6>
                                            <span>Protecting me from Injury</span>
                                        </hgroup>
                                    </li>
                                </ul>
                                <ul>
                                    <li>Base</li>
                                    <li><button class="outline contrast">{{getHearts}}</button></li>
                                </ul>
                            </nav>
                            <div class="flex justify-center align-center justify-center">
                                <button class="outline" style="flex: 1">{{getHearts}}</button>
                                <div style="flex: 5"></div>
                            </div>
                        </div>
                        <hr>
                        <div id="defense">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-shield-halved fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h6>Defense Rating</h6>
                                            <span>Best this to strike me</span>
                                        </hgroup>
                                    </li>
                                </ul>
                                <ul>
                                    <li>Base</li>
                                    <li><button class="outline contrast">{{getDefense}}</button></li>
                                </ul>
                            </nav>
                            <div class="flex justify-center align-center justify-center">
                                <button class="outline" style="flex: 1">{{getDefense}}</button>
                                <progress :value="getDefense" max="20" style="flex: 5; border-radius: 0;"></progress>
                            </div>
                        </div>
                        <hr>
                        <div id="speed">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-person-running fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h6>Speed Rating</h6>
                                            <span>Decides how many Areas I can move</span>
                                        </hgroup>
                                    </li>
                                </ul>
                                <ul>
                                    <li>Base</li>
                                    <li><button class="outline contrast">{{getSpeed}}</button></li>
                                </ul>
                            </nav>
                            <div class="flex justify-center align-center justify-center">
                                <button class="outline" style="flex: 1">{{getSpeedRating}}</button>
                                <progress :value="getSpeed" max="4" style="flex: 5; border-radius: 0;"></progress>
                            </div>
                        </div>
                        <hr>
                        <div id="might">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-dumbbell fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h6>Might</h6>
                                            <span>Smash, Crush, Lift</span>
                                        </hgroup>
                                    </li>
                                </ul>
                                <ul>
                                    <li>Base</li>
                                    <li><button class="outline contrast">{{getMight}}</button></li>
                                </ul>
                            </nav>
                            <div class="flex justify-center align-center">
                                <button class="outline" style="flex: 1">{{parseFloat(getMight) + parseFloat(mightTrait)}}</button>
                                <progress :value="parseFloat(getMight) + parseFloat(mightTrait)" max="20" style="flex: 5; border-radius: 0;"></progress>
                            </div>
                        </div>
                        <hr>
                        <div id="deftness">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-bolt fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h6>Deftness</h6>
                                            <span>Dodge, Sneak, Leap</span>
                                        </hgroup>
                                    </li>
                                </ul>
                                <ul>
                                    <li>Base</li>
                                    <li><button class="outline contrast">{{getDeft}}</button></li>
                                </ul>
                            </nav>
                            <div class="flex justify-center align-center">
                                <button class="outline" style="flex: 1">{{parseFloat(getDeft) + parseFloat(deftTrait)}}</button>
                                <progress :value="parseFloat(getDeft) + parseFloat(deftTrait)" max="20" style="flex: 5; border-radius: 0;"></progress>
                            </div>
                        </div>
                        <hr>
                        <div id="grit">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-heart-pulse fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h6>Grit</h6>
                                            <span>Cling, Persist, Press On</span>
                                        </hgroup>
                                    </li>
                                </ul>
                                <ul>
                                    <li>Base</li>
                                    <li><button class="outline contrast">{{getGrit}}</button></li>
                                </ul>
                            </nav>
                            <div class="flex justify-center align-center">
                                <button class="outline" style="flex: 1">{{parseFloat(getGrit) + parseFloat(gritTrait)}}</button>
                                <progress :value="parseFloat(getGrit) + parseFloat(gritTrait)" max="20" style="flex: 5; border-radius: 0;"></progress>
                            </div>
                        </div>
                        <hr>
                        <div id="insight">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-eye fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h6>Insight</h6>
                                            <span>Notice, Know, Remember</span>
                                        </hgroup>
                                    </li>
                                </ul>
                                <ul>
                                    <li>Base</li>
                                    <li><button class="outline contrast">{{getInsight}}</button></li>
                                </ul>
                            </nav>
                            <div class="flex justify-center align-center">
                                <button class="outline" style="flex: 1">{{parseFloat(getInsight) + parseFloat(insightTrait)}}</button>
                                <progress :value="parseFloat(getInsight) + parseFloat(insightTrait)" max="20" style="flex: 5; border-radius: 0;"></progress>
                            </div>
                        </div>
                        <hr>
                        <div id="aura">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-music fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h6>Aura</h6>
                                            <span>Persuade, Inspire, Terrify</span>
                                        </hgroup>
                                    </li>
                                </ul>
                                <ul>
                                    <li>Base</li>
                                    <li><button class="outline contrast">{{getAura}}</button></li>
                                </ul>
                            </nav>
                            <div class="flex justify-center align-center">
                                <button class="outline" style="flex: 1">{{parseFloat(getAura) + parseFloat(auraTrait)}}</button>
                                <progress :value="parseFloat(getAura) + parseFloat(auraTrait)" max="20" style="flex: 5; border-radius: 0;"></progress>
                            </div>
                        </div>
                        <hr>
                        <div id="allegiance">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-circle-half-stroke fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h4>Allegiance</h4>
                                            <h5>How closely associated you are with the Dark or the Light</h5>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>
                            
                            <div class="grid">
                                <label>
                                    Bright Points
                                    <button class="outline">{{Number(getBrightPoints) + Number(brightPoints)}}</button>
                                </label>
                                <label>
                                    Dark Points
                                    <button class="outline">{{Number(getDarkPoints) + Number(darkPoints)}}</button>
                                </label>
                            </div>
                            <h5>{{getAlignment}}</h5>
                            <h5 v-if="(Number(getBrightPoints) + Number(brightPoints)) >= 3">Bright Gifts:</h5>
                            <template v-for="gift in brightGifts">
                                <details open>
                                    <summary>{{gift}}</summary>
                                    <template v-for="entry in gifts.bright">
                                        <p v-if="gift == entry.name">{{entry.description}}</p>
                                    </template>
                                </details>
                            </template>
                            <h5 v-if="(Number(getDarkPoints) + Number(darkPoints)) >= 3 || speciesSelected.name == 'Tenebrate'">Dark Gifts:</h5>
                            <template v-for="gift in darkGifts">
                                <details open>
                                    <summary>{{gift}}</summary>
                                    <template v-for="entry in gifts.dark">
                                        <p v-if="gift == entry.name">{{entry.description}}</p>
                                    </template>
                                </details>
                            </template>
                            <details open v-if="speciesSelected.name == 'Tenebrate'">
                                <summary>{{tenebrateGift}}</summary>
                                <template v-for="entry in gifts.dark">
                                    <p v-if="tenebrateGift == entry.name">{{entry.description}}</p>
                                </template>
                            </details>
                        </div>
                        <hr>
                        <hr>
                        <div id="callingFeatures" v-if="callingSelected">
                            <nav>
                                <ul>
                                    <li><i class="fa-solid fa-check-to-slot fa-xl"></i></li>
                                    <li>
                                        <hgroup>
                                            <h4>Calling Abilities</h4>
                                            <h5>{{callingSelected.name}}</h5>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>

                            <template v-for="ability in callingSelected.classAbilities">
                                <details open>
                                    <summary>{{ability.name}}</summary>
                                    <!--<p>{{ability.description}}</p>
                                    <ul>
                                        <li v-for="mechanic in ability.mechanics">{{mechanic}}</li>
                                    </ul>-->
                                </details>
                            </template>
                            <details open v-if="speciesSelected.name == 'Human (Native)' && nativeHumanElective">
                                <summary>{{nativeHumanElective.name}}</summary>
                                    <!--<p>{{nativeHumanElective.description}}</p>
                                    <ul>
                                        <li v-for="mechanic in nativeHumanElective.mechanics">
                                            {{mechanic}}
                                        </li>
                                    </ul>-->
                            </details>
                            <details open v-if="elective2">
                                <summary>{{elective2.name}}</summary>
                                
                                    <!--<p>{{elective2.description}}</p>
                                    <ul>
                                        <li v-for="mechanic in elective2.mechanics">
                                            {{mechanic}}
                                        </li>
                                    </ul>-->
                                </template>
                            </details>
                            <details open v-if="elective4">
                                <summary>{{elective4.name}}</summary>
                                
                                    <!--<p>{{elective4.description}}</p>
                                    <ul>
                                        <li v-for="mechanic in elective4.mechanics">
                                            {{mechanic}}
                                        </li>
                                    </ul>-->
                                </template>
                            </details>
                            <details open v-if="elective6">
                                <summary>{{elective6.name}}</summary>
                                
                                    <!--<p>{{elective6.description}}</p>
                                    <ul>
                                        <li v-for="mechanic in elective6.mechanics">
                                            {{mechanic}}
                                        </li>
                                    </ul>-->
                                </template>
                            </details>
                            <details open v-if="elective8">
                                <summary>{{elective8.name}}</summary>
                                
                                    <!--<p>{{elective8.description}}</p>
                                    <ul>
                                        <li v-for="mechanic in elective8.mechanics">
                                            {{mechanic}}
                                        </li>
                                    </ul>-->
                                </template>
                            </details>
                            <details open v-if="elective10">
                                <summary>{{elective10.name}}</summary>
                                
                                    <!--<p>{{elective10.description}}</p>
                                    <ul>
                                        <li v-for="mechanic in elective10.mechanics">
                                            {{mechanic}}
                                        </li>
                                    </ul>-->
                                </template>
                            </details>
                        </div>

                        <hr>

                        <div id="speciesFeatures">
                            <nav>
                                <ul>
                                    <li><i class="fa-solid fa-person-rays fa-xl"></i></li>
                                    <li>
                                        <hgroup>
                                            <h4>Species Abilities</h4>
                                            <h5>{{speciesSelected.name}}</h5>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>

                            <template v-for="ability in speciesSelected.innateAbilities">
                                <details open>
                                    <summary>{{ability.name}}</summary>
                                    <!--<p>{{ability.description}}</p>
                                    <ul>
                                        <li v-for="mechanic in ability.mechanics">{{mechanic}}</li>
                                        <li v-if="(ability.name == 'Immortal Ego') && elfImmunity">Your chosen immunity is: {{elfImmunity}}.</li>
                                    </ul>-->
                                </details>
                            </template>
                            <template v-for="ability in speciesSelected.maturativeAbilities">
                                <details open v-if="hasAbility(ability)">
                                    <summary>{{ability.name}}</summary>
                                    <!--<p>{{ability.description}}</p>
                                    <ul>
                                        <li v-for="mechanic in ability.mechanics">{{mechanic}}</li>
                                    </ul>-->
                                </details>
                            </template>
                        </div>
                        <hr>
                        <div id="inventory" v-if="inventory.length || weaponSelected || armorSelected || shieldSelected">
                            <header>
                                <nav>
                                    <ul>
                                        <li>
                                            <i class="fa-solid fa-box fa-xl"></i>
                                        </li>
                                        <li>
                                            <hgroup>
                                                <h4>Inventory</h4>
                                                <h5>What you are carrying</h5>
                                            </hgroup>
                                        </li>
                                    </ul>
                                </nav>
                            </header>
                            <div style="display: grid; grid-gap: 5px; grid-template-columns: repeat(3, minmax(0, 1fr));">
                                <label>
                                    Gems
                                    <button class="outline">{{gems}}</button>
                                </label>
                                <label>
                                    Coins
                                    <button class="outline">{{coins}}</button>
                                </label>
                                <label>
                                    Stones
                                    <button class="outline">{{stones}}</button>
                                </label>
                            </div>
                            <div style="overflow-x: auto;">
                                <table role="grid">
                                    <thead>
                                        <tr>
                                            <th>Item</th>
                                            <th>Slots</th>
                                            <th>Value</th>
                                            <th>#</th>
                                        </tr>
                                    </thead>
                                    <tr v-if="weaponSelected">
                                        <td><span v-if="customWeaponSelected">{{customWeaponSelected.name}}&nbsp;</span>{{weaponSelected.name}}<span v-if="combinationWeaponSelected"> + {{combinationWeaponSelected.name}}</span></td>
                                        <td v-if="!combinationWeaponSelected"> {{weaponSelected.bulk}}</td>
                                        <td v-if="combinationWeaponSelected"> {{(weaponSelected.bulk > combinationWeaponSelected.bulk) ? weaponSelected.bulk : combinationWeaponSelected.bulk}}</td>
                                        <td v-if="!customWeaponSelected">{{writeDenomination(weaponSelected.cost)}}</td>
                                        <td v-if="customWeaponSelected">{{writeDenomination(getCustomWeaponCost)}}</td>
                                        <td>{{weaponNumber}}</td>
                                    </tr>
                                    <tr v-if="armorSelected">
                                        <td><span v-if="customArmorSelected">{{customArmorSelected.name}}&nbsp;</span>{{armorSelected.name}}</td>
                                        <td>{{armorSelected.bulk}}</td>
                                        <td v-if="!customArmorSelected">{{writeDenomination(armorSelected.cost)}}</td>
                                        <td v-if="customArmorSelected">{{writeDenomination(getCustomArmorCost)}}</td>
                                        <td>{{armorNumber}}</td>
                                    </tr>
                                    <tr v-if="shieldSelected">
                                        <td><span v-if="customShieldSelected">{{customShieldSelected.name}}&nbsp;</span>{{shieldSelected.name}}</td>
                                        <td>{{shieldSelected.bulk}}</td>
                                        <td v-if="!customShieldSelected">{{writeDenomination(shieldSelected.cost)}}</td>
                                        <td v-if="customShieldSelected">{{writeDenomination(getCustomShieldCost)}}</td>
                                        <td>{{shieldNumber}}</td>
                                    </tr>
                                    <tbody>
                                        <tr v-for="item in inventory" :key="item.id">
                                            <td>{{item.name}}</td>
                                            <td>{{item.inventory}} {{item.inventory != 1 ? "Slots" : "Slot"}}</td>
                                            <td>{{writeDenomination(item.cost)}}</td>
                                            <td>{{item.number}}</td>
                                        </tr>
                                    </tbody>
                                    <thead>
                                        <tr>
                                            <th>Total:</th>
                                            <th>{{getWeight}} {{getWeight != 1 ? "Slots" : "Slot"}}</th>
                                            <th>{{getTotalValue}}</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                        <hr>
                        <div id="companion" v-if="companionSelected">
                            <nav>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-address-card fa-xl"></i>
                                    </li>
                                    <li>
                                        <hgroup>
                                            <h5>Companion</h4>
                                            <h6>Your Follower or Pet.</h5>
                                        </hgroup>
                                    </li>
                                </ul>
                            </nav>
                            <strong>{{companionSelected.name}}</strong>
                            <!--<p>{{companionSelected.description}}</p>-->
                            <blockquote v-if="followerSpecies">
                                <p>Species: {{followerSpecies.name}}</p>
                                <p>Innate Abilities</p>
                                <ul>
                                    <li v-for="ability in followerSpecies.innateAbilities">
                                        {{ability.name}}
                                        <!--<ul>
                                            <li v-for="mechanic in ability.mechanics">{{mechanic}}</li>
                                        </ul>-->
                                    </li>
                                </ul>
                                <div v-if="followerHumanAbility">
                                    <p>Elective Ability</p>
                                    <ul>
                                        <li>
                                            {{followerHumanAbility.name}}
                                            <!--<ul>
                                                <li v-for="mechanic in followerHumanAbility.mechanics">{{mechanic}}</li>
                                            </ul>-->
                                        </li>
                                    </ul>
                                </div>
                                <div v-if="followerElfImmunity">
                                    <p>Immortal Ego</p>
                                    <!--<ul>
                                        <li>Immune to the {{followerElfImmunity}} condition.</li>
                                    </ul>-->
                                </div>
                                <div v-if="followerDarkGift">
                                    <p>Dark Gift</p>
                                    <ul>
                                        <li>{{followerDarkGift}}</li>
                                    </ul>
                                </div>
                            </blockquote>
                            <!--<div class="grid">
                                <table role="grid">
                                    <tr>
                                        <th>Might</th>
                                        <td v-if="companionSelected.stats[2]">{{companionSelected.stats[2]}}</td>
                                        <td v-if="!companionSelected.stats[2]">{{getSoulCompStat('Might')}}</td>
                                    </tr>
                                    <tr>
                                        <th>Deft</th>
                                        <td v-if="companionSelected.stats[3]">{{companionSelected.stats[3]}}</td>
                                        <td v-if="!companionSelected.stats[3]">{{getSoulCompStat('Deft')}}</td>
                                    </tr>
                                    <tr>
                                        <th>Grit</th>
                                        <td v-if="companionSelected.stats[4]">{{companionSelected.stats[4]}}</td>
                                        <td v-if="!companionSelected.stats[4]">{{getSoulCompStat('Grit')}}</td>
                                    </tr>
                                    <tr>
                                        <th>Insight</th>
                                        <td v-if="companionSelected.stats[5]">{{companionSelected.stats[5]}}</td>
                                        <td v-if="!companionSelected.stats[5]">{{getSoulCompStat('Insight')}}</td>
                                    </tr>
                                    <tr>
                                        <th>Aura</th>
                                        <td v-if="companionSelected.stats[6]">{{companionSelected.stats[6]}}</td>
                                        <td v-if="!companionSelected.stats[6]">{{getSoulCompStat('Aura')}}</td>
                                    </tr>
                                </table>
                                <div class="compStats">
                                    <div style="width:100%;display:grid;grid-template-columns: 1fr 1fr;">
                                        <div style="text-align: center; display: flex;justify-content: center; align-items: center; border-right: 1px solid #EDF0F2;border-bottom: 1px solid #EDF0F2; padding: .5em">+{{companionSelected.stats[0]}}<br>Attack</div>
                                        <div style="text-align: center; display: flex;justify-content: center; align-items: center;border-bottom: 1px solid #EDF0F2; padding: .5em">{{companionSelected.stats[1]}}<br>Hearts</div>
                                    </div>
                                    <div style="width: 100%; display: grid;grid-template-columns: 1fr 1fr;">
                                        <div v-if="companionSelected.defense" style="text-align: center; display: flex;justify-content: center; align-items: center; border-right: 1px solid #EDF0F2; padding: .5em">{{companionSelected.defense}}<br>Defense</div>
                                        <div v-if="!companionSelected.defense" style="text-align: center; display: flex;justify-content: center; align-items: center; border-right: 1px solid #EDF0F2; padding: .5em">10<br>Defense</div>
                                        <div v-if="companionSelected.speed" style="text-align: center; display: flex;justify-content: center;align-items: center; padding: .5em">{{companionSelected.speed}}<br>Speed</div>
                                        <div v-if="!companionSelected.speed" style="text-align: center; display: flex;justify-content: center;align-items: center; padding: .5em">Average<br>Speed</div>
                                    </div>
                                </div>
                            </div>-->
                            <!--<div v-if="companionSelected.abilities">
                                <p>Abilities</p>
                                <ul>
                                    <li v-for="ability in companionSelected.abilities">{{ability}}</li>
                                    <li v-if="soulCompAbility1">
                                        {{soulCompAbility1.name}}
                                        <ul>
                                            <li v-for="mechanic in soulCompAbility1.mechanics">{{mechanic}}</li>
                                        </ul>
                                    </li>
                                    <li v-if="soulCompAbility5">
                                        {{soulCompAbility5.name}}
                                        <ul>
                                            <li v-for="mechanic in soulCompAbility5.mechanics">{{mechanic}}</li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>-->
                            <div v-if="companionSelected.inventory">
                                <p>Inventory</p>
                                <ul>
                                    <li v-for="inventory in companionSelected.inventory">{{inventory}}</li>
                                </ul>
                            </div>
                            <!--<div v-if="companionSelected.services">
                                <p>Services</p>
                                <p>{{companionSelected.services}}</p>
                            </div>
                            <div v-if="companionSelected.fighting">
                                <p>Fighting</p>
                                <ul>
                                    <li v-for="fighting in companionSelected.fighting">{{fighting}}</li>
                                </ul>
                            </div>-->
                            <div v-if="companionSelected.recruitment">
                                <p>Recruitment</p>
                                <p>{{companionSelected.recruitment}}</p>
                            </div>
                            <div v-if="companionSelected.fee">
                                <p>Fee: {{writeDenomination(companionSelected.fee)}} per Day.</p>
                            </div>
                            <div v-if="companionSelected.cost">
                                <p>Cost: {{writeDenomination(companionSelected.cost)}}</p>
                            </div>
                        </div>
                    </article>
                </main>
            </div>

            <div v-if="callingSelected && speciesSelected && homelandSelected && historySelected && quirkSelected">
                <div id="sheetTemplate" class="hidden">
                    <div class="page1">
                        <div class="grey" style="grid-row: 1 / -1; writing-mode:vertical-lr; transform: rotate(180deg); text-align: end; padding-inline-end: 2em;"><h2><strong>ADVENTURER</strong></h2></div>
                        <div class="primary">
                            <div class="draft grey right-round"><p><strong>IDENTITY</strong></p></div>
                            <div class="draft bio">
                                <div v-if="!portraitURL" style="border: 1px solid black; border-radius: 50%; aspect-ratio: 1 / 1; max-width: 2.5in; justify-self: center;"></div>
                                <img v-if="portraitURL" style="border: 1px solid black; border-radius: 50%; aspect-ratio: 1/1; max-width: 1.5in; justify-self: center; object-fit: cover;" :src="portraitURL"/>
                                <div>
                                    <p class="border-top">NAME: <strong>{{characterName}}</strong></p>
                                    <p class="border-top">CALLING: <strong v-if="callingSelected">{{callingSelected.name}}</strong></p>
                                    <p class="border-top">SPECIES: <strong>{{speciesSelected.name}}</strong></p>
                                    <p class="border-top">HOMELAND: <strong>{{homelandSelected.name}}</strong></p>
                                    <p class="border-top">LANGUAGES: <strong><template v-for="language in languages"><span v-if="language.known">{{language.name}}, </span></template></strong></p>
                                    <p class="border-top">HISTORY: <strong>{{historySelected.name}}</strong></p>
                                </div>
                                <div>
                                    <p class="border-top">PURVIEWS:
                                        <br><span class="light">My Background grants me an Edge on...</span>
                                        <!--<ul class="light">
                                            <template v-for="region in histories">
                                                <template v-for="history in region">
                                                    <template v-for="purview in history.purviews" v-if="history.name == historySelected.name">
                                                        <li>{{purview}}</li>
                                                    </template>
                                                </template>
                                            </template>
                                        </ul>-->
                                    </p></div>
                                <div><p class="border-top">DESCRIPTION</p></div>
                            </div>

                            <div class="draft grey spread right-round"><p><strong>COMBAT VALUES</strong></p></div>
                            <div class="draft border-right">
                                <p><strong>ATTACK BONUS</strong></p>
                                <div style="display: grid; grid-template-columns: 1fr 3fr;align-items: center;">
                                    <button style="border: 1px solid black; border-radius: .5em; background-color: white; padding: 1em;">+{{parseFloat(getAttack) + parseFloat(getAttackBonus)}}</button>
                                    <div class="progress"> 
                                        <div class="progress__bar" :style="'width: ' + ((parseFloat(getAttack) + parseFloat(getAttackBonus)) / 10) * 100 + '%;'"></div>
                                    </div>                            
                                </div>
                            </div>
                            <div class="draft border-right border-top">
                                <p><strong>DEFENSE RATING</strong></p>
                                <div style="display: grid; grid-template-columns: 1fr 3fr;align-items: center;">
                                    <button style="border: 1px solid black; border-radius: .5em; background-color: white; padding: 1em;">{{getDefense}}</button>
                                    <div class="progress"> 
                                        <div class="progress__bar" :style="'width: ' + ((getDefense - 7) / 13) * 100 + '%;'"></div>
                                    </div>                            
                                </div>
                            </div>

                            <div class="draft grey right-round"><p><strong>APTITUDES</strong></p></div>
                            <div class="draft">
                                <p><strong>MIGHT</strong></p>
                                <div style="display: grid; grid-template-columns: 1fr 3fr;align-items: center;">
                                    <button style="border: 1px solid black; border-radius: .5em; background-color: white; padding: 1em;">{{parseFloat(getMight) + parseFloat(mightTrait)}}</button>
                                    <div class="progress"> 
                                        <div class="progress__bar" :style="'width: ' + ((parseFloat(getMight) + parseFloat(mightTrait) - 3) / 18) * 100 + '%;'"></div>
                                    </div>                            
                                </div>
                            </div>
                            <div class="draft border-top">
                                <p><strong>DEFTNESS</strong></p>
                                <div style="display: grid; grid-template-columns: 1fr 3fr;align-items: center;">
                                    <button style="border: 1px solid black; border-radius: .5em; background-color: white; padding: 1em;">{{parseFloat(getDeft) + parseFloat(deftTrait)}}</button>
                                    <div class="progress"> 
                                        <div class="progress__bar" :style="'width: ' + ((parseFloat(getDeft) + parseFloat(deftTrait) - 4) / 17) * 100 + '%;'"></div>
                                    </div>                            
                                </div>
                            </div>
                            <div class="draft border-top">
                                <p><strong>GRIT</strong></p>
                                <div style="display: grid; grid-template-columns: 1fr 3fr;align-items: center;">
                                    <button style="border: 1px solid black; border-radius: .5em; background-color: white; padding: 1em;">{{parseFloat(getGrit) + parseFloat(gritTrait)}}</button>
                                    <div class="progress"> 
                                        <div class="progress__bar" :style="'width: ' + ((getGrit - 5) / 15) * 100 + '%;'"></div>
                                    </div>                            
                                </div>
                            </div>
                            <div class="draft border-top">
                                <p><strong>INSIGHT</strong></p>
                                <div style="display: grid; grid-template-columns: 1fr 3fr;align-items: center;">
                                    <button style="border: 1px solid black; border-radius: .5em; background-color: white; padding: 1em;">{{parseFloat(getInsight) + parseFloat(insightTrait)}}</button>
                                    <div class="progress"> 
                                        <div class="progress__bar" :style="'width: ' + ((parseFloat(getInsight) + parseFloat(insightTrait) - 5) / 15) * 100 + '%;'"></div>
                                    </div>                            
                                </div>
                            </div>
                            <div class="draft border-top">
                                <p><strong>AURA</strong></p>
                                <div style="display: grid; grid-template-columns: 1fr 3fr;align-items: center;">
                                    <button style="border: 1px solid black; border-radius: .5em; background-color: white; padding: 1em;">{{parseFloat(getAura) + parseFloat(auraTrait)}}</button>
                                    <div class="progress"> 
                                        <div class="progress__bar" :style="'width: ' + ((parseFloat(getAura) + parseFloat(auraTrait) - 5) / 15) * 100 + '%;'"></div>
                                    </div>                            
                                </div>
                            </div>


                            <div class="draft">
                                <p><strong>HEARTS TOTAL</strong></p>
                                <div style="display: grid; grid-template-columns: 1fr 3fr;align-items: center;">
                                    <button style="border: 1px solid black; border-radius: .5em; background-color: white; padding: 1em;">{{getHearts}}</button>
                                    <div class="progress"> 
                                        <div class="progress__bar" :style="'width: ' + ((getHearts - 1) / 10) * 100 + '%;'"></div>
                                    </div>                            
                                </div>
                            </div>
                            <div class="draft border-top">
                                <p><strong>SPEED RATING</strong></p>
                                <div style="display: grid; grid-template-columns: 1fr 3fr;align-items: center;">
                                    <button style="border: 1px solid black; border-radius: .5em; background-color: white; padding: 1em;">{{getSpeedRating}}</button>
                                    <div class="progress"> 
                                        <div class="progress__bar" :style="'width: ' + (getSpeed / 4) * 100 + '%;'"></div>
                                    </div>                            
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="page2">
                        <div class="draft grey right-round"><p><strong>ABILITIES</strong></p></div>
                        <div class="draft" style="grid-row: auto / span 5;">
                            <template v-for="ability in callingSelected.classAbilities">
                                <p class="border-top">{{ability.name}}</p>
                            </template>
                            <p v-if="nativeHumanElective" class="border-top">{{nativeHumanElective.name}}</p>
                            <p v-if="elective2" class="border-top">{{elective2.name}}</p>
                            <p v-if="elective4" class="border-top">{{elective4.name}}</p>
                            <p v-if="elective6" class="border-top">{{elective6.name}}</p>
                            <p v-if="elective8" class="border-top">{{elective8.name}}</p>
                            <p v-if="elective10" class="border-top">{{elective10.name}}</p>
                            <template v-for="ability in speciesSelected.innateAbilities">
                                <p class="border-top">{{ability.name}}<span v-if="ability.name == 'Immortal Ego' && elfImmunity"> - {{elfImmunity}}</span></p>
                            </template>
                            <template v-for="ability in speciesSelected.maturativeAbilities">
                                <p class="border-top" v-if="hasAbility(ability.name)">{{ability.name}}</p>
                            </template>
                        </div>

                        <div class="draft grey right-round"><p><strong>QUIRK</strong></p></div>
                        <div class="draft">
                            <p>{{quirkSelected.name}}</p>
                            <!--<p>{{quirkSelected.description}}</p>-->
                        </div>

                        <div class="draft grey right-round"><p><strong>ALLEGIANCE</strong></p></div>
                        <div class="draft" style="display: grid; grid-template-columns: 1fr 1fr 1fr;">
                            <div class="border-right" style="display: grid; grid-template-rows: 1fr 1fr;">
                                <div style="display: grid; grid-template-columns: 1fr 2fr;">
                                    <button style="border: 1px solid black; border-radius: 50%; aspect-ratio: 1 / 1; text-align: center; background-color: white;">{{Number(getDarkPoints) + Number(darkPoints)}}</button>
                                    <p>DARK</p>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 2fr;">
                                    <button style="border: 1px solid black; border-radius: 50%; aspect-ratio: 1 / 1; text-align: center; background-color: white;">{{Number(getBrightPoints) + Number(brightPoints)}}</button>
                                    <p>BRIGHT</p>
                                </div>
                            </div>
                            <div class="border-right" style="padding-left: 4px;">
                                <div style="display: flex; align-items: center;">
                                    <button style="background-color: white; border: 1px solid black; aspect-ratio: 1 /1; border-radius: 5%; height: 2em; width: 2em;">
                                        {{(getAlignment == 'Unaligned') ? '&#10003;' : ''}}
                                    </button>
                                    <label>NONE</label>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <button style="background-color: white; border: 1px solid black; aspect-ratio: 1 /1; border-radius: 5%; height: 2em; width: 2em;">
                                        {{getAlignment == 'Dark Aligned' ? '&#10003;' : ''}}
                                    </button>
                                    <label>DARK</label>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <button style="background-color: white; border: 1px solid black; aspect-ratio: 1 /1; border-radius: 5%; height: 2em; width: 2em;">
                                        {{getAlignment == 'Twilight Aligned' ? '&#10003;' : ''}}
                                    </button>
                                    <label>TWILIGHT</label>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <button style="background-color: white; border: 1px solid black; aspect-ratio: 1 /1; border-radius: 5%; height: 2em; width: 2em;">
                                        {{getAlignment == 'Bright Aligned' ? '&#10003;' : ''}}
                                    </button>
                                    <label>BRIGHT</label>
                                </div>                   
                            </div>
                            <div>
                                <p>GIFTS</p>
                                <template v-for="gift in brightGifts" v-if="brightPoints >= 3">
                                    <p>{{gift}}</p>
                                </template>
                                <template v-for="gift in darkGifts" v-if="darkPoints >= 3">
                                    <p>{{gift}}</p>
                                </template>
                                <p v-if="tenebrateGift">{{tenebrateGift}}</p>
                            </div>
                        </div>

                        <div class="draft grey right-round"><p><strong>INVENTORY</strong></p></div>
                        <div class="draft" style="grid-row: auto / span 5;">
                            <p class="border-top" v-if="weaponSelected"><strong>Weapon</strong></p>
                            <p class="border-top" v-if="weaponSelected"><span v-if="customWeaponSelected">{{customWeaponSelected.name}}&nbsp;</span>{{weaponSelected.name}}<span v-if="combinationWeaponSelected"> + {{combinationWeaponSelected.name}}</span></p>
                            <p class="border-top" v-if="armorSelected"><strong>Armor</strong></p>
                            <p class="border-top" v-if="armorSelected"><span v-if="customArmorSelected">{{customArmorSelected.name}}&nbsp;</span>{{armorSelected.name}}</p>
                            <p class="border-top" v-if="shieldSelected"><strong>Shield</strong></p>
                            <p class="border-top" v-if="shieldSelected"><span v-if="customShieldSelected">{{customShieldSelected.name}}&nbsp;</span>{{shieldSelected.name}}</p>
                            <p class="border-top"><strong>Other</strong></p>
                            <p class="border-top" v-for="item in inventory">{{item.name}}</p>
                        </div>

                        <div class="draft grey right-round"><p><strong>WEALTH</strong></p></div>
                        <div class="draft" style="display: grid; grid-template-columns: 1fr 1fr 1fr;">
                            <div class="border-right center-text">
                                <p>STONES</p>
                                <h2>{{stones}}</h2>
                            </div>
                            <div class="border-right center-text">
                                <p>COINS</p>
                                <h2>{{coins}}</h2>
                            </div>
                            <div class="center-text">
                                <p>GEMS</p>
                                <h2>{{gems}}</h2>
                            </div>
                        </div>

                        <div class="draft grey right-round"><p><strong>RANK & XP</strong></p></div>
                        <div class="draft" style="display: grid; grid-template-columns: 1fr 1fr 1fr;">
                            <div class="border-right center-text">
                                <p>RANK</p>
                                <h2>{{getLevel}}</h2>
                            </div>
                            <div class="border-right center-text">
                                <p>CURRENT XP</p>
                                <h2>{{xp}}</h2>
                            </div>
                            <div class="center-text">
                                <p>NEXT RANK</p>
                                <h2>{{(getNextLevel != 0) ? (getNextLevel - xp) : "N/A"}}</h2>
                            </div>
                        </div>
                    </div>
                    <!--<div class="page3">
                        <h3 class="card-divider">Quirk</h3>
                        <article>
                            <p><strong>{{quirkSelected.name}}</strong></p>
                            <p>{{quirkSelected.description}}</p>
                            <p>Advantages:</p>
                            <ul>
                                <li v-for="advantage in quirkSelected.advantages">{{advantage}}</li>
                            </ul>
                            <p>Disadvantages:</p>
                            <ul>
                                <li v-for="disadvantage in quirkSelected.disadvantages">{{disadvantage}}</li>
                            </ul>
                        </article>
                        <h3 class="card-divider">Species Abilities</h3>
                        <template v-for="ability in speciesSelected.innateAbilities">
                            <article>
                                <p><strong>{{ability.name}}</strong></p>
                                <p>{{ability.description}}</p>
                                <ul>
                                    <li v-for="mechanic in ability.mechanics">{{mechanic}}</li>
                                </ul>
                            </article>
                        </template>
                        <h3 class="card-divider">Calling Abilities</h3>
                        <template v-for="ability in callingSelected.classAbilities">
                            <article>
                                <p><strong>{{ability.name}}</strong></p>
                                <p>{{ability.description}}</p>
                                <ul>
                                    <li v-for="mechanic in ability.mechanics">{{mechanic}}</li>
                                </ul>
                            </article>
                        </template>
                        <h3 class="card-divider">Elective Abilities</h3>
                        <article v-if="nativeHumanElective">
                            <p><strong>{{nativeHumanElective.name}}</strong></p>
                            <p>{{nativeHumanElective.description}}</p>
                            <ul>
                                <li v-for="mechanic in nativeHumanElective.mechanics">{{mechanic}}</li>
                            </ul>
                        </article>
                        <article v-if="elective2">
                            <p><strong>{{elective2.name}}</strong></p>
                            <p>{{elective2.description}}</p>
                            <ul>
                                <li v-for="mechanic in elective2.mechanics">{{mechanic}}</li>
                            </ul>
                        </article>
                        <article v-if="elective4">
                            <p><strong>{{elective4.name}}</strong></p>
                            <p>{{elective4.description}}</p>
                            <ul>
                                <li v-for="mechanic in elective4.mechanics">{{mechanic}}</li>
                            </ul>
                        </article>
                        <article v-if="elective6">
                            <p><strong>{{elective6.name}}</strong></p>
                            <p>{{elective6.description}}</p>
                            <ul>
                                <li v-for="mechanic in elective6.mechanics">{{mechanic}}</li>
                            </ul>
                        </article>
                        <article v-if="elective8">
                            <p><strong>{{elective8.name}}</strong></p>
                            <p>{{elective8.description}}</p>
                            <ul>
                                <li v-for="mechanic in elective8.mechanics">{{mechanic}}</li>
                            </ul>
                        </article>
                        <article v-if="elective10">
                            <p><strong>{{elective10.name}}</strong></p>
                            <p>{{elective10.description}}</p>
                            <ul>
                                <li v-for="mechanic in elective10.mechanics">{{mechanic}}</li>
                            </ul>
                        </article>
                        <div v-if="companionSelected">
                            <h3 class="card-divider">Companion</h3>
                            <article>
                                <p><strong>{{companionSelected.name}}</strong></p>
                                <p>{{companionSelected.description}}</p>
                                <div style="border: 1px solid black; border-radius: .5em;" v-if="followerSpecies">
                                    <p>Species: {{followerSpecies.name}}</p>
                                    <p>Innate Abilities</p>
                                    <ul>
                                        <li v-for="ability in followerSpecies.innateAbilities">
                                            {{ability.name}}
                                            <ul>
                                                <li v-for="mechanic in ability.mechanics">{{mechanic}}</li>
                                            </ul>
                                        </li>
                                    </ul>
                                    <div v-if="followerHumanAbility">
                                        <p>Elective Ability</p>
                                        <ul>
                                            <li>
                                                {{followerHumanAbility.name}}
                                                <ul>
                                                    <li v-for="mechanic in followerHumanAbility.mechanics">{{mechanic}}</li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                    <div v-if="followerElfImmunity">
                                        <p>Immortal Ego</p>
                                        <ul>
                                            <li>Immune to the {{followerElfImmunity}} condition.</li>
                                        </ul>
                                    </div>
                                    <div v-if="followerDarkGift">
                                        <p>Dark Gift</p>
                                        <ul>
                                            <li>{{followerDarkGift}}</li>
                                        </ul>
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 2fr;">
                                    <table role="grid">
                                        <tr>
                                            <th>Might</th>
                                            <td v-if="companionSelected.stats[2]">{{companionSelected.stats[2]}}</td>
                                            <td v-if="!companionSelected.stats[2]">{{getSoulCompStat('Might')}}</td>
                                        </tr>
                                        <tr>
                                            <th>Deft</th>
                                            <td v-if="companionSelected.stats[3]">{{companionSelected.stats[3]}}</td>
                                            <td v-if="!companionSelected.stats[3]">{{getSoulCompStat('Deft')}}</td>
                                        </tr>
                                        <tr>
                                            <th>Grit</th>
                                            <td v-if="companionSelected.stats[4]">{{companionSelected.stats[4]}}</td>
                                            <td v-if="!companionSelected.stats[4]">{{getSoulCompStat('Grit')}}</td>
                                        </tr>
                                        <tr>
                                            <th>Insight</th>
                                            <td v-if="companionSelected.stats[5]">{{companionSelected.stats[5]}}</td>
                                            <td v-if="!companionSelected.stats[5]">{{getSoulCompStat('Insight')}}</td>
                                        </tr>
                                        <tr>
                                            <th>Aura</th>
                                            <td v-if="companionSelected.stats[6]">{{companionSelected.stats[6]}}</td>
                                            <td v-if="!companionSelected.stats[6]">{{getSoulCompStat('Aura')}}</td>
                                        </tr>
                                    </table>
                                    <div class="compStats">
                                        <div style="width:100%;display:grid;grid-template-columns: 1fr 1fr;">
                                            <div style="text-align: center; display: flex;justify-content: center; align-items: center; border-right: 1px solid #EDF0F2;border-bottom: 1px solid #EDF0F2; padding: .5em">+{{companionSelected.stats[0]}}<br>Attack</div>
                                            <div style="text-align: center; display: flex;justify-content: center; align-items: center;border-bottom: 1px solid #EDF0F2; padding: .5em">{{companionSelected.stats[1]}}<br>Hearts</div>
                                        </div>
                                        <div style="width: 100%; display: grid;grid-template-columns: 1fr 1fr;">
                                            <div v-if="companionSelected.defense" style="text-align: center; display: flex;justify-content: center; align-items: center; border-right: 1px solid #EDF0F2; padding: .5em">{{companionSelected.defense}}<br>Defense</div>
                                            <div v-if="!companionSelected.defense" style="text-align: center; display: flex;justify-content: center; align-items: center; border-right: 1px solid #EDF0F2; padding: .5em">10<br>Defense</div>
                                            <div v-if="companionSelected.speed" style="text-align: center; display: flex;justify-content: center;align-items: center; padding: .5em">{{companionSelected.speed}}<br>Speed</div>
                                            <div v-if="!companionSelected.speed" style="text-align: center; display: flex;justify-content: center;align-items: center; padding: .5em">Average<br>Speed</div>
                                        </div>
                                    </div>
                                </div>
                                <div v-if="companionSelected.abilities">
                                    <hr>
                                    <p>Abilities</p>
                                    <ul>
                                        <li v-for="ability in companionSelected.abilities">{{ability}}</li>
                                        <li v-if="soulCompAbility1">
                                            {{soulCompAbility1.name}}
                                            <ul>
                                                <li v-for="mechanic in soulCompAbility1.mechanics">{{mechanic}}</li>
                                            </ul>
                                        </li>
                                        <li v-if="soulCompAbility5">
                                            {{soulCompAbility5.name}}
                                            <ul>
                                                <li v-for="mechanic in soulCompAbility5.mechanics">{{mechanic}}</li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                <div v-if="companionSelected.inventory">
                                    <hr>
                                    <p>Inventory</p>
                                    <ul>
                                        <li v-for="inventory in companionSelected.inventory">{{inventory}}</li>
                                    </ul>
                                </div>
                                <div v-if="companionSelected.services">
                                    <hr>
                                    <p>Services</p>
                                    <p>{{companionSelected.services}}</p>
                                </div>
                                <div v-if="companionSelected.fighting">
                                    <hr>
                                    <p>Fighting</p>
                                    <ul>
                                        <li v-for="fighting in companionSelected.fighting">{{fighting}}</li>
                                    </ul>
                                </div>
                                <div v-if="companionSelected.recruitment">
                                    <hr>
                                    <p>Recruitment</p>
                                    <p>{{companionSelected.recruitment}}</p>
                                </div>
                                <div v-if="companionSelected.fee">
                                    <p>Fee: {{writeDenomination(companionSelected.fee)}} per Day.</p>
                                </div>
                                <div v-if="companionSelected.cost">
                                    <hr>
                                    <p>Cost: {{writeDenomination(companionSelected.cost)}}</p>
                                </div>
                            </article>
                        </div>
                    </div>-->
                </div>
            </div>

            <dialog :open="backupOpen">
                <article>
                    <header>
                        <a href="#close" aria-label="Close" class="close" @click="backupOpen = false"></a>
                        Backup/Restore
                    </header>
                    <label>
                        Backup File name
                        <input type="text" v-model="backupName">
                    </label>
                    <button @click="backup()">Backup</button>
                    <hr>
                    <input type="file" name="import-file" id="import-file" accept="application/json"/>
                    <button @click="restore(); backupOpen = false">Restore</button>
                </article>
            </dialog>

            <dialog :open="dialogOpen">
                <article>
                    <header>
                        <a href="#close" aria-label="Close" class="close" @click="dialogOpen = false"></a>
                        Roadmap
                    </header>
                    <ul>
                        <li><s>Initial Release</s></li>
                        <li><s>Battle Princess Elective Abilities</s></li>
                        <li><s>Dark Bright Gifts</s></li>
                        <li><s>Rudimentary PDF Export</s></li>
                        <li><s>Armor & Shields</s></li>
                        <li><s>Species Abilities</s></li>
                        <li><s>All Histories</s></li>
                        <li><s>All Callings</s></li>
                        <li><s>Quirks</s></li>
                        <li><s>Inventory System</s></li>
                        <li><s>Improve Printing</s></li>
                        <li><s>Backup/Restore System</s></li>
                        <li><s>Item Customization</s></li>
                        <li><s>Companions</s></li>
                        <li><s>Improved Bright/Dark Point Management</s></li>
                        <li>Separate Edit and View modes</li>
                        <li>Navigation TOC Sidebar</li>
                        <li>Resource Tracking</li>
                    </ul>
                </article>
            </dialog>

            <a id="downloadAnchorElem" style="display:none"></a>
        </div>

        <script type="module">
            //import { createApp } from 'https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.47/vue.esm-browser.prod.min.js';
            import { createApp } from 'https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.0/vue.esm-browser.min.js';
            import App from '/js/app-min.js';
            createApp(App).mount('#app');
        </script>
    </body>
</html>